import{r as g,j as e}from"./react-BgJcSqp4.js";import{c as E}from"./react-dom-BZX53PpM.js";import{c as O}from"./zustand-BePHtyJ9.js";import{U as z,C as A,F as q,X as P,D as T,G as U,A as _}from"./lucide-react-Dw3O5xLp.js";import{d as R,a as M}from"./diff-CHvUVVs_.js";import{m as W}from"./mammoth-DYk0QeYC.js";import"./@xmldom-BSdgGZWi.js";import"./scheduler-SPyfQU6S.js";import"./underscore-D8pyYJcL.js";import"./bluebird-5d01fNRq.js";import"./base64-js-DRz5BQNA.js";import"./jszip-Crv52XZ3.js";import"./xmlbuilder-m9dXxFQd.js";import"./dingbat-to-unicode-CMGDyNm5.js";import"./lop-Cdh-pw7Y.js";import"./option-De8OoYKj.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))m(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&m(u)}).observe(document,{childList:!0,subtree:!0});function l(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function m(i){if(i.ep)return;i.ep=!0;const o=l(i);fetch(i.href,o)}})();const H="/comparadoc/assets/htd-DIJHr3UJ.svg",X=({onHomeClick:r})=>{const[s,l]=g.useState(!1);return e.jsxs("nav",{className:"bg-bk-2 border-b border-bk-3 text-wt-1",children:[e.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-4 flex items-center justify-between",children:[e.jsx("div",{className:"flex items-center gap-2 hover:text-or-1 transition cursor-pointer",onClick:r,"aria-label":"Voltar para a página inicial",children:e.jsx("div",{className:"h-10 w-auto overflow-hidden flex items-center justify-center text-bk-1 font-bold text-lg select-none",children:e.jsx("img",{src:H,alt:"Logo do AutoFlux",className:"w-full h-full object-contain"})})}),e.jsxs("ul",{className:"hidden md:flex gap-6 text-gr-2 font-medium",children:[e.jsx("li",{children:e.jsx("button",{onClick:r,className:"hover:text-or-1 transition-colors duration-150",children:"Início"})}),e.jsx("li",{children:e.jsx("a",{href:"https://www.autoflux.app.br/maladireta",className:"hover:text-or-1 transition-colors duration-150",target:"_blank",rel:"noopener noreferrer",children:"mala direta"})}),e.jsx("li",{children:e.jsx("a",{href:"https://www.autoflux.app.br/smt",className:"hover:text-or-1 transition-colors duration-150",target:"_blank",rel:"noopener noreferrer",children:"smt"})}),e.jsx("li",{children:e.jsx("a",{href:"https://www.vfipe.com.br/",className:"hover:text-or-1 transition-colors duration-150",target:"_blank",rel:"noopener noreferrer",children:"vfipe"})})]}),e.jsx("button",{onClick:()=>l(!open),className:"md:hidden focus:outline-none focus:ring-2 focus:ring-or-2 transition-transform duration-150","aria-label":s?"Fechar menu":"Abrir menu","aria-expanded":s,children:e.jsx("svg",{className:"w-6 h-6 text-wt-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",strokeWidth:2,children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:s?"M6 18L18 6M6 6l12 12":"M4 6h16M4 12h16M4 18h16"})})})]}),e.jsx("div",{className:`md:hidden px-4 pt-0 pb-4 transition-all duration-300 ease-in-out ${s?"opacity-100 max-h-96":"opacity-0 max-h-0 overflow-hidden"}`,children:e.jsxs("ul",{className:"flex flex-col gap-2 text-gr-2 font-medium",children:[e.jsx("li",{children:e.jsx("button",{onClick:()=>{r(),l(!1)},className:"hover:text-or-1 transition-colors duration-150 w-full text-left py-2",children:"Início"})}),e.jsx("li",{children:e.jsx("a",{href:"https://www.autoflux.app.br/maladireta",className:"hover:text-or-1 transition-colors duration-150 block py-2",target:"_blank",rel:"noopener noreferrer",children:"mala direta"})}),e.jsx("li",{children:e.jsx("a",{href:"https://www.autoflux.app.br/smt",className:"hover:text-or-1 transition-colors duration-150 block py-2",target:"_blank",rel:"noopener noreferrer",children:"smt"})}),e.jsx("li",{children:e.jsx("a",{href:"https://www.vfipe.com.br/",className:"hover:text-or-1 transition-colors duration-150 block py-2",target:"_blank",rel:"noopener noreferrer",children:"vfipe"})})]})})]})},G=()=>e.jsx("footer",{className:"bg-bk-2 border-t border-bk-3 text-wt-2 text-sm px-4 py-4",children:e.jsx("div",{className:"max-w-6xl mx-auto flex flex-col items-center gap-2 text-center sm:flex-row sm:justify-center",children:e.jsxs("p",{className:"text-xs",children:["© ",new Date().getFullYear()," ",e.jsx("span",{className:"font-semibold",children:"autoflux"}),". Todos os direitos reservados."]})})}),$=O(r=>({docx1:null,setDocx1:s=>r({docx1:s}),docx2:null,setDocx2:s=>r({docx2:s}),matrix:[],setMatrix:s=>r({matrix:s})})),S=({label:r})=>{const[s,l]=g.useState(!1),[m,i]=g.useState(null),[o,u]=g.useState(null),{setDocx1:b,setDocx2:c}=$(),f=[".docx"],j=t=>{t.preventDefault(),l(!0)},v=t=>{t.preventDefault(),l(!1)},y=t=>{t.preventDefault(),l(!1);const a=Array.from(t.dataTransfer.files);a.length>0&&w(a[0])},k=t=>{const a=t.target.files[0];a&&w(a)},w=t=>{const a=t.name.slice(t.name.lastIndexOf(".")).toLowerCase();if(!f.includes(a)){u("Apenas arquivos .docx são suportados"),i(null);return}if(t.size>5*1024*1024){u("O arquivo é muito grande (máx. 5MB)"),i(null);return}i(t),r==="original"?b(t):c(t),u(null)},D=()=>{i(null),r==="original"?b(null):c(null),u(null)},d=t=>{if(t===0)return"0 Bytes";const a=1024,p=["Bytes","KB","MB","GB"],x=Math.floor(Math.log(t)/Math.log(a));return parseFloat((t/Math.pow(a,x)).toFixed(2))+" "+p[x]},n=`file-input-${r.replace(/\s+/g,"-").toLowerCase()}`;return e.jsxs("div",{className:"space-y-2 cursor-pointer ",children:[e.jsx("label",{className:"block text-sm font-medium text-wt-2",children:`Importe o documento ${r}:`}),m?e.jsx("div",{className:"border border-bk-3 rounded-lg p-4 bg-bk-2",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-2 bg-or-3/10 rounded-lg text-or-2",children:e.jsx(q,{className:"h-5 w-5"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-wt-1 truncate max-w-[200px]",children:m.name}),e.jsxs("p",{className:"text-xs text-gr-2",children:[d(m.size)," •"," ",new Date(m.lastModified).toLocaleDateString()]})]})]}),e.jsx("button",{onClick:D,className:"p-1 rounded-full hover:bg-bk-3 transition-colors duration-200 text-gr-2 hover:text-wt-1","aria-label":"Remover arquivo",children:e.jsx(P,{className:"h-4 w-4"})})]})}):e.jsxs("div",{className:`
            relative border-2 border-dashed rounded-lg p-8 text-center transition-colors duration-200 hover:border-or-2
            ${s?"border-or-2 bg-bk-3":"border-bk-3 bg-bk-2"}
            ${o?"border-or-3":""}
          `,onDragOver:j,onDragLeave:v,onDrop:y,onClick:()=>document.getElementById(n).click(),children:[e.jsx("input",{id:n,type:"file",accept:f.join(","),onChange:k,className:"hidden"}),e.jsxs("div",{className:"flex flex-col items-center justify-center space-y-3",children:[e.jsx(z,{className:`h-10 w-10 ${o?"text-or-3":"text-or-2"}`}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:`text-sm ${o?"text-or-3":"text-wt-2"}`,children:"Arraste e solte o arquivo aqui"}),e.jsx("p",{className:`text-xs ${o?"text-or-3":"text-gr-2"}`,children:"ou clique para selecionar"})]}),e.jsx("p",{className:`text-xs ${o?"text-or-3":"text-gr-1"}`,children:"Apenas .docx (máx. 5MB)"})]}),o&&e.jsxs("div",{className:"mt-4 flex items-center justify-center text-or-3 text-sm",children:[e.jsx(A,{className:"h-4 w-4 mr-1"}),e.jsx("span",{children:o})]})]})]})},V=["docx"],C=r=>r.name.split(".").pop().toLowerCase(),J=r=>V.includes(C(r)),F=r=>r.split(`
`).map(s=>s.trim()).filter(s=>s.length>0),B=async r=>{try{const s=await r.arrayBuffer(),l=await W.extractRawText({arrayBuffer:s});return{text:l.value,type:"docx",fileName:r.name,size:r.size,lastModified:new Date(r.lastModified),messages:l.messages,paragraphs:F(l.value)}}catch(s){throw new Error(`Failed to parse DOCX file: ${s.message}`)}},K=async r=>{const s=C(r);switch(s){case"docx":return await B(r);default:throw new Error(`Unsupported file type: ${s}`)}},I={parseDocument:K,parseDocx:B,extractParagraphs:F,isSupported:J,getFileType:C};function Y(){const{docx1:r,docx2:s}=$(),[l,m]=g.useState([]),[i,o]=g.useState(!1),[u,b]=g.useState("side-by-side");g.useEffect(()=>{async function d(){if(!r||!s){m([]);return}o(!0);try{const n=await I.parseDocument(r),t=await I.parseDocument(s),a=n?.text||"",p=t?.text||"",x=R(a,p);m(x)}catch(n){console.error("Erro ao processar documentos:",n),m([])}finally{o(!1)}}d()},[r,s]);const c=()=>{const d=[];let n=0;for(;n<l.length;){const t=l[n];!t.added&&!t.removed?(d.push({oldLine:t.value,newLine:t.value,unchanged:!0}),n++):t.removed&&l[n+1]?.added?(d.push({oldLine:t.value,newLine:l[n+1].value,unchanged:!1}),n+=2):t.removed?(d.push({oldLine:t.value,newLine:"",unchanged:!1}),n++):t.added&&(d.push({oldLine:"",newLine:t.value,unchanged:!1}),n++)}return d},j=(()=>{let d=0,n=0,t=0;l.forEach(x=>{const h=x.value.split(`
`).filter(Boolean).length;x.added?n+=h:x.removed?t+=h:d+=h});const a=d+n+t,p=a===0?100:Math.round(d/a*100);return{unchanged:d,added:n,removed:t,totalChanges:n+t,total:a,similarityPercentage:p}})(),v=(d,n)=>{const t=M(d,n);return{old:t.map((a,p)=>{if(a.added)return null;const x=a.removed?"bg-red-100 text-red-800 line-through px-1 rounded":"text-gray-800";return e.jsx("span",{className:x,children:a.value},`old-${p}`)}),new:t.map((a,p)=>{if(a.removed)return null;const x=a.added?"bg-green-100 text-green-800 px-1 rounded":"text-gray-800";return e.jsx("span",{className:x,children:a.value},`new-${p}`)})}},y=()=>c().map((n,t)=>{const{oldLine:a,newLine:p,unchanged:x}=n,h=x?{old:a,new:p}:v(a,p);return e.jsxs("div",{className:"flex text-sm font-sans border-b border-gray-200 bg-white",children:[e.jsx("div",{className:"w-1/2 border-r border-gray-200 px-4 py-2 whitespace-pre-wrap",children:x?e.jsx("span",{className:"text-gray-800",children:h.old}):e.jsx("span",{children:h.old?.length?h.old:e.jsx("span",{children:" "})})}),e.jsx("div",{className:"w-1/2 px-4 py-2 whitespace-pre-wrap",children:x?e.jsx("span",{className:"text-gray-800",children:h.new}):e.jsx("span",{children:h.new?.length?h.new:e.jsx("span",{children:" "})})})]},t)}),k=()=>c().map((n,t)=>{const{oldLine:a,newLine:p,unchanged:x}=n,h=x?{old:a,new:p}:v(a,p);return e.jsxs("div",{className:"text-sm font-sans whitespace-pre-wrap border-b border-gray-200 px-4 py-auto bg-white",children:[e.jsx("div",{className:"mb-1 min-h-[1rem]",children:h.old?.length?h.old:e.jsx(e.Fragment,{children:" "})}),e.jsx("div",{className:"min-h-[1rem]",children:h.new?.length?h.new:e.jsx(e.Fragment,{children:" "})})]},t)}),w=(d,n)=>M(d,n).map((a,p)=>{const x=a.added?"bg-green-100 text-green-800 underline":a.removed?"bg-red-100 text-red-800 line-through":"text-gray-800";return e.jsx("span",{className:`${x} whitespace-pre-wrap px-1 rounded`,children:a.value},p)}),D=()=>c().map((n,t)=>e.jsx("div",{className:"text-sm font-sans whitespace-pre-wrap py-2 px-4 border-b border-gray-200 bg-white",children:w(n.oldLine,n.newLine)},t));return!r||!s?e.jsx("div",{className:"p-6 text-center text-gray-500 bg-white rounded-lg border border-gray-200",children:"Selecione dois documentos DOCX para comparar"}):i?e.jsx("div",{className:"p-6 text-center text-gray-500 bg-white rounded-lg border border-gray-200",children:"Processando comparação..."}):e.jsxs("div",{className:"w-full rounded-lg overflow-hidden flex flex-col",children:[e.jsx("div",{className:"bg-bk-2 p-6 space-y-6 rounded-lg",children:e.jsxs("section",{"aria-labelledby":"stats-heading",className:"space-y-4",children:[e.jsx("h2",{id:"stats-heading",className:"text-wt-1 font-medium text-lg",children:"Resultados da Comparação"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsx(N,{value:`${j.similarityPercentage}%`,label:"Similaridade",color:"text-or-2"}),e.jsx(N,{value:j.added,label:"Adições",color:"text-[#6bff8b]"}),e.jsx(N,{value:j.removed,label:"Remoções",color:"text-[#ff6b6b]"}),e.jsx(N,{value:j.totalChanges,label:"Total de Mudanças",color:"text-wt-2"})]})]})}),e.jsx("div",{className:"bg-bk-1 text-gr-3 my-4 px-6 py-4",children:e.jsxs("section",{"aria-labelledby":"diff-view-heading",children:[e.jsx("h3",{id:"diff-view-heading",className:"text-wt-1 font-medium text-lg mb-4",children:"Modo de Visualização"}),e.jsxs("div",{className:"flex flex-wrap gap-3",children:[e.jsx(L,{active:u==="side-by-side",onClick:()=>b("side-by-side"),icon:"⇄",label:"Lado a lado"}),e.jsx(L,{active:u==="unified",onClick:()=>b("unified"),icon:"⇅",label:"Empilhado"}),e.jsx(L,{active:u==="inline-merged",onClick:()=>b("inline-merged"),icon:e.jsx(T,{size:12}),label:"Unficado"})]})]})}),e.jsxs("div",{className:"bg-et-3 border border-gray-200 shadow-sm select-text text-gr-3",children:[u==="side-by-side"&&e.jsxs("div",{className:"flex border-b border-gray-200 bg-gray-50 text-xs font-semibold text-gray-600 uppercase tracking-wide",children:[e.jsx("div",{className:"w-1/2 border-r border-gray-200 px-4 py-2",children:"Documento Original"}),e.jsx("div",{className:"w-1/2 px-4 py-2",children:"Documento Modificado"})]}),e.jsx("div",{className:"max-h-[60vh] overflow-y-auto bg-wt-1 pt-6",children:u==="side-by-side"?y():u==="unified"?k():D()})]})]})}const N=({value:r,label:s,color:l,bgColor:m})=>e.jsx("div",{className:`${m||""} p-3 rounded-lg border border-bk-3 shadow-sm`,children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:`text-xl font-bold ${l}`,children:r}),e.jsx("div",{className:"text-xs text-gr-2 mt-1",children:s})]})}),L=({active:r,onClick:s,icon:l,label:m})=>e.jsxs("button",{onClick:s,className:`flex items-center gap-2 px-3 py-2 text-sm rounded transition-colors border
      ${r?"bg-or-3 text-bk-1 font-semibold border-or-2":"bg-bk-3 text-wt-2 hover:bg-bk-2 border-transparent cursor-pointer"}`,"aria-pressed":r,children:[e.jsx("span",{children:l})," ",e.jsx("span",{children:m})]}),Q=()=>e.jsxs("div",{className:"max-w-6xl mx-auto px-4 pt-8 pb-2 space-y-8",children:[e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"p-3 bg-or-3/10 rounded-lg text-or-2",children:e.jsx(U,{className:"h-6 w-6"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-wt-1",children:"Comparador de Documentos"}),e.jsx("p",{className:"text-gr-2 mt-1",children:"Compare o conteúdo de dois arquivos DOCX e identifique as diferenças com precisão."})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(S,{label:"original",acceptedTypes:[".docx"]}),e.jsx(S,{label:"modificado",acceptedTypes:[".docx"]})]}),e.jsx(Y,{})]})]}),Z="/comparadoc/assets/side-by-side-IkGjpL1B.webp",ee="/comparadoc/assets/stacked-vttiDWaf.webp",te="/comparadoc/assets/unified-C_n6t7vw.webp",se=({onStart:r})=>{const[s,l]=g.useState(0),[m,i]=g.useState(!1),o=[{id:1,title:"Modo Lado a Lado",description:"Comparação paralela com diferenças alinhadas verticalmente",image:Z,alt:"Interface mostrando dois documentos comparados lado a lado"},{id:2,title:"Modo Empilhado",description:"Diferenças exibidas verticalmente em uma única coluna",image:ee,alt:"Interface mostrando comparação de documentos em modo empilhado"},{id:3,title:"Modo Unificado",description:"Alterações mescladas em linha única com marcações",image:te,alt:"Interface mostrando comparação unificada com marcações coloridas"}];g.useEffect(()=>{if(m)return;const c=setInterval(()=>{l(f=>f===o.length-1?0:f+1)},5e3);return()=>clearInterval(c)},[m,o.length]);const u=()=>{l(c=>c===o.length-1?0:c+1)},b=()=>{l(c=>c===0?o.length-1:c-1)};return e.jsx("div",{className:"min-h-[calc(100svh-128px)] flex items-center px-4 py-12 sm:py-10",children:e.jsxs("div",{className:"max-w-6xl mx-auto w-full grid grid-cols-1 lg:grid-cols-2 gap-8 items-center",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("h1",{className:"text-4xl sm:text-5xl md:text-6xl font-bold leading-tight",children:["Compare documentos ",e.jsx("span",{className:"text-or-2",children:"com precisão"})]}),e.jsx("p",{className:"text-lg text-gr-2 max-w-lg",children:"Identifique diferenças entre versões de documentos Word de forma rápida e intuitiva com nossa ferramenta especializada."}),e.jsxs("button",{onClick:r,className:"flex items-center justify-center gap-2 px-6 py-3 bg-or-2 hover:bg-or-1 text-bk-1 font-medium rounded-lg transition-colors duration-200 shadow-md hover:shadow-lg",children:["Começar agora ",e.jsx(_,{size:18})]})]}),e.jsxs("div",{className:"relative group w-full max-w-full",onMouseEnter:()=>i(!0),onMouseLeave:()=>i(!1),children:[e.jsx("div",{className:"overflow-hidden rounded-xl border border-bk-3 bg-bk-2 w-full",children:e.jsx("div",{className:"flex transition-transform duration-300 ease-out",style:{transform:`translateX(-${s*(100/o.length)}%)`,width:`${o.length*100}%`},children:o.map((c,f)=>e.jsxs("div",{className:"relative flex-shrink-0 w-full h-[400px]",style:{width:`${100/o.length}%`},children:[e.jsx("img",{src:c.image,alt:c.alt,className:"w-full h-full object-contain",loading:"lazy"}),e.jsxs("div",{className:"absolute bottom-0 left-0 right-0 bg-bk-1/95 backdrop-blur-md px-4 py-3 text-center",children:[e.jsx("h3",{className:"text-lg sm:text-xl font-bold text-wt-1",children:c.title}),e.jsx("p",{className:"text-sm sm:text-base text-wt-2 mt-1",children:c.description})]})]},f))})}),e.jsx("button",{onClick:b,className:"absolute left-2 top-1/2 -translate-y-1/2 bg-bk-2/90 hover:bg-bk-3 text-wt-1 p-2 rounded-full shadow-sm opacity-0 group-hover:opacity-100 transition-all duration-200","aria-label":"Slide anterior",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),e.jsx("button",{onClick:u,className:"absolute right-2 top-1/2 -translate-y-1/2 bg-bk-2/90 hover:bg-bk-3 text-wt-1 p-2 rounded-full shadow-sm opacity-0 group-hover:opacity-100 transition-all duration-200","aria-label":"Próximo slide",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})}),e.jsx("div",{className:"flex justify-center gap-2 mt-4",children:o.map((c,f)=>e.jsx("button",{onClick:()=>l(f),className:`w-2 h-2 rounded-full transition-all ${s===f?"bg-or-2 w-4":"bg-gr-2"}`,"aria-label":`Ir para slide ${f+1}`},f))})]})]})})},re=()=>{const[r,s]=g.useState(!0);return e.jsxs("div",{className:"h-[100svh] bg-bk-1 text-wt-1 font-sans flex flex-col",children:[e.jsx("div",{className:"fixed top-0 left-0 right-0 z-10",children:e.jsx(X,{onHomeClick:()=>s(!0)})}),e.jsx("main",{className:"flex-1 overflow-y-auto mt-[64px] mb-[64px] px-4",children:r?e.jsx(se,{onStart:()=>s(!1)}):e.jsx(Q,{})}),e.jsx("div",{className:"fixed bottom-0 left-0 right-0 z-10",children:e.jsx(G,{})})]})};E.createRoot(document.getElementById("root")).render(e.jsx(g.StrictMode,{children:e.jsx(re,{})}));
