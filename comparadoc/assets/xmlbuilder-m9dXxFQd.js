var C={},A={},Dt;function O(){return Dt||(Dt=1,(function(){var L,g,f,e,r,u,y,d=[].slice,m={}.hasOwnProperty;L=function(){var a,p,D,M,X,I;if(I=arguments[0],X=2<=arguments.length?d.call(arguments,1):[],r(Object.assign))Object.assign.apply(null,arguments);else for(a=0,D=X.length;a<D;a++)if(M=X[a],M!=null)for(p in M)m.call(M,p)&&(I[p]=M[p]);return I},r=function(a){return!!a&&Object.prototype.toString.call(a)==="[object Function]"},u=function(a){var p;return!!a&&((p=typeof a)=="function"||p==="object")},f=function(a){return r(Array.isArray)?Array.isArray(a):Object.prototype.toString.call(a)==="[object Array]"},e=function(a){var p;if(f(a))return!a.length;for(p in a)if(m.call(a,p))return!1;return!0},y=function(a){var p,D;return u(a)&&(D=Object.getPrototypeOf(a))&&(p=D.constructor)&&typeof p=="function"&&p instanceof p&&Function.prototype.toString.call(p)===Function.prototype.toString.call(Object)},g=function(a){return r(a.valueOf)?a.valueOf():a},A.assign=L,A.isFunction=r,A.isObject=u,A.isArray=f,A.isEmpty=e,A.isPlainObject=y,A.getValue=g}).call(A)),A}var S={exports:{}},R={exports:{}},q={exports:{}},j={exports:{}},Kt=j.exports,Lt;function Ut(){return Lt||(Lt=1,(function(){j.exports=function(){function L(g,f,e){if(this.options=g.options,this.stringify=g.stringify,this.parent=g,f==null)throw new Error("Missing attribute name. "+this.debugInfo(f));if(e==null)throw new Error("Missing attribute value. "+this.debugInfo(f));this.name=this.stringify.attName(f),this.value=this.stringify.attValue(e)}return L.prototype.clone=function(){return Object.create(this)},L.prototype.toString=function(g){return this.options.writer.set(g).attribute(this)},L.prototype.debugInfo=function(g){return g=g||this.name,g==null?"parent: <"+this.parent.name+">":"attribute: {"+g+"}, parent: <"+this.parent.name+">"},L}()}).call(Kt)),j.exports}var Yt=q.exports,gt;function rt(){return gt||(gt=1,(function(){var L,g,f,e,r,u,y=function(m,a){for(var p in a)d.call(a,p)&&(m[p]=a[p]);function D(){this.constructor=m}return D.prototype=a.prototype,m.prototype=new D,m.__super__=a.prototype,m},d={}.hasOwnProperty;u=O(),r=u.isObject,e=u.isFunction,f=u.getValue,g=T(),L=Ut(),q.exports=function(m){y(a,m);function a(p,D,M){if(a.__super__.constructor.call(this,p),D==null)throw new Error("Missing element name. "+this.debugInfo());this.name=this.stringify.eleName(D),this.attributes={},M!=null&&this.attribute(M),p.isDocument&&(this.isRoot=!0,this.documentObject=p,p.rootObject=this)}return a.prototype.clone=function(){var p,D,M,X;M=Object.create(this),M.isRoot&&(M.documentObject=null),M.attributes={},X=this.attributes;for(D in X)d.call(X,D)&&(p=X[D],M.attributes[D]=p.clone());return M.children=[],this.children.forEach(function(I){var x;return x=I.clone(),x.parent=M,M.children.push(x)}),M},a.prototype.attribute=function(p,D){var M,X;if(p!=null&&(p=f(p)),r(p))for(M in p)d.call(p,M)&&(X=p[M],this.attribute(M,X));else e(D)&&(D=D.apply()),(!this.options.skipNullAttributes||D!=null)&&(this.attributes[p]=new L(this,p,D));return this},a.prototype.removeAttribute=function(p){var D,M,X;if(p==null)throw new Error("Missing attribute name. "+this.debugInfo());if(p=f(p),Array.isArray(p))for(M=0,X=p.length;M<X;M++)D=p[M],delete this.attributes[D];else delete this.attributes[p];return this},a.prototype.toString=function(p){return this.options.writer.set(p).element(this)},a.prototype.att=function(p,D){return this.attribute(p,D)},a.prototype.a=function(p,D){return this.attribute(p,D)},a}(g)}).call(Yt)),q.exports}var F={exports:{}},kt=F.exports,Mt;function it(){return Mt||(Mt=1,(function(){var L,g=function(e,r){for(var u in r)f.call(r,u)&&(e[u]=r[u]);function y(){this.constructor=e}return y.prototype=r.prototype,e.prototype=new y,e.__super__=r.prototype,e},f={}.hasOwnProperty;L=T(),F.exports=function(e){g(r,e);function r(u,y){if(r.__super__.constructor.call(this,u),y==null)throw new Error("Missing CDATA text. "+this.debugInfo());this.text=this.stringify.cdata(y)}return r.prototype.clone=function(){return Object.create(this)},r.prototype.toString=function(u){return this.options.writer.set(u).cdata(this)},r}(L)}).call(kt)),F.exports}var B={exports:{}},zt=B.exports,xt;function nt(){return xt||(xt=1,(function(){var L,g=function(e,r){for(var u in r)f.call(r,u)&&(e[u]=r[u]);function y(){this.constructor=e}return y.prototype=r.prototype,e.prototype=new y,e.__super__=r.prototype,e},f={}.hasOwnProperty;L=T(),B.exports=function(e){g(r,e);function r(u,y){if(r.__super__.constructor.call(this,u),y==null)throw new Error("Missing comment text. "+this.debugInfo());this.text=this.stringify.comment(y)}return r.prototype.clone=function(){return Object.create(this)},r.prototype.toString=function(u){return this.options.writer.set(u).comment(this)},r}(L)}).call(zt)),B.exports}var U={exports:{}},Qt=U.exports,bt;function st(){return bt||(bt=1,(function(){var L,g,f=function(r,u){for(var y in u)e.call(u,y)&&(r[y]=u[y]);function d(){this.constructor=r}return d.prototype=u.prototype,r.prototype=new d,r.__super__=u.prototype,r},e={}.hasOwnProperty;g=O().isObject,L=T(),U.exports=function(r){f(u,r);function u(y,d,m,a){var p;u.__super__.constructor.call(this,y),g(d)&&(p=d,d=p.version,m=p.encoding,a=p.standalone),d||(d="1.0"),this.version=this.stringify.xmlVersion(d),m!=null&&(this.encoding=this.stringify.xmlEncoding(m)),a!=null&&(this.standalone=this.stringify.xmlStandalone(a))}return u.prototype.toString=function(y){return this.options.writer.set(y).declaration(this)},u}(L)}).call(Qt)),U.exports}var V={exports:{}},$={exports:{}},Zt=$.exports,Xt;function ot(){return Xt||(Xt=1,(function(){var L,g=function(e,r){for(var u in r)f.call(r,u)&&(e[u]=r[u]);function y(){this.constructor=e}return y.prototype=r.prototype,e.prototype=new y,e.__super__=r.prototype,e},f={}.hasOwnProperty;L=T(),$.exports=function(e){g(r,e);function r(u,y,d,m,a,p){if(r.__super__.constructor.call(this,u),y==null)throw new Error("Missing DTD element name. "+this.debugInfo());if(d==null)throw new Error("Missing DTD attribute name. "+this.debugInfo(y));if(!m)throw new Error("Missing DTD attribute type. "+this.debugInfo(y));if(!a)throw new Error("Missing DTD attribute default. "+this.debugInfo(y));if(a.indexOf("#")!==0&&(a="#"+a),!a.match(/^(#REQUIRED|#IMPLIED|#FIXED|#DEFAULT)$/))throw new Error("Invalid default value type; expected: #REQUIRED, #IMPLIED, #FIXED or #DEFAULT. "+this.debugInfo(y));if(p&&!a.match(/^(#FIXED|#DEFAULT)$/))throw new Error("Default value only applies to #FIXED or #DEFAULT. "+this.debugInfo(y));this.elementName=this.stringify.eleName(y),this.attributeName=this.stringify.attName(d),this.attributeType=this.stringify.dtdAttType(m),this.defaultValue=this.stringify.dtdAttDefault(p),this.defaultValueType=a}return r.prototype.toString=function(u){return this.options.writer.set(u).dtdAttList(this)},r}(L)}).call(Zt)),$.exports}var W={exports:{}},Gt=W.exports,vt;function ut(){return vt||(vt=1,(function(){var L,g,f=function(r,u){for(var y in u)e.call(u,y)&&(r[y]=u[y]);function d(){this.constructor=r}return d.prototype=u.prototype,r.prototype=new d,r.__super__=u.prototype,r},e={}.hasOwnProperty;g=O().isObject,L=T(),W.exports=function(r){f(u,r);function u(y,d,m,a){if(u.__super__.constructor.call(this,y),m==null)throw new Error("Missing DTD entity name. "+this.debugInfo(m));if(a==null)throw new Error("Missing DTD entity value. "+this.debugInfo(m));if(this.pe=!!d,this.name=this.stringify.eleName(m),!g(a))this.value=this.stringify.dtdEntityValue(a);else{if(!a.pubID&&!a.sysID)throw new Error("Public and/or system identifiers are required for an external entity. "+this.debugInfo(m));if(a.pubID&&!a.sysID)throw new Error("System identifier is required for a public external entity. "+this.debugInfo(m));if(a.pubID!=null&&(this.pubID=this.stringify.dtdPubID(a.pubID)),a.sysID!=null&&(this.sysID=this.stringify.dtdSysID(a.sysID)),a.nData!=null&&(this.nData=this.stringify.dtdNData(a.nData)),this.pe&&this.nData)throw new Error("Notation declaration is not allowed in a parameter entity. "+this.debugInfo(m))}}return u.prototype.toString=function(y){return this.options.writer.set(y).dtdEntity(this)},u}(L)}).call(Gt)),W.exports}var K={exports:{}},Ht=K.exports,Et;function ct(){return Et||(Et=1,(function(){var L,g=function(e,r){for(var u in r)f.call(r,u)&&(e[u]=r[u]);function y(){this.constructor=e}return y.prototype=r.prototype,e.prototype=new y,e.__super__=r.prototype,e},f={}.hasOwnProperty;L=T(),K.exports=function(e){g(r,e);function r(u,y,d){if(r.__super__.constructor.call(this,u),y==null)throw new Error("Missing DTD element name. "+this.debugInfo());d||(d="(#PCDATA)"),Array.isArray(d)&&(d="("+d.join(",")+")"),this.name=this.stringify.eleName(y),this.value=this.stringify.dtdElementValue(d)}return r.prototype.toString=function(u){return this.options.writer.set(u).dtdElement(this)},r}(L)}).call(Ht)),K.exports}var Y={exports:{}},Jt=Y.exports,It;function ht(){return It||(It=1,(function(){var L,g=function(e,r){for(var u in r)f.call(r,u)&&(e[u]=r[u]);function y(){this.constructor=e}return y.prototype=r.prototype,e.prototype=new y,e.__super__=r.prototype,e},f={}.hasOwnProperty;L=T(),Y.exports=function(e){g(r,e);function r(u,y,d){if(r.__super__.constructor.call(this,u),y==null)throw new Error("Missing DTD notation name. "+this.debugInfo(y));if(!d.pubID&&!d.sysID)throw new Error("Public or system identifiers are required for an external entity. "+this.debugInfo(y));this.name=this.stringify.eleName(y),d.pubID!=null&&(this.pubID=this.stringify.dtdPubID(d.pubID)),d.sysID!=null&&(this.sysID=this.stringify.dtdSysID(d.sysID))}return r.prototype.toString=function(u){return this.options.writer.set(u).dtdNotation(this)},r}(L)}).call(Jt)),Y.exports}var te=V.exports,_t;function at(){return _t||(_t=1,(function(){var L,g,f,e,r,u,y=function(m,a){for(var p in a)d.call(a,p)&&(m[p]=a[p]);function D(){this.constructor=m}return D.prototype=a.prototype,m.prototype=new D,m.__super__=a.prototype,m},d={}.hasOwnProperty;u=O().isObject,r=T(),L=ot(),f=ut(),g=ct(),e=ht(),V.exports=function(m){y(a,m);function a(p,D,M){var X,I;a.__super__.constructor.call(this,p),this.name="!DOCTYPE",this.documentObject=p,u(D)&&(X=D,D=X.pubID,M=X.sysID),M==null&&(I=[D,M],M=I[0],D=I[1]),D!=null&&(this.pubID=this.stringify.dtdPubID(D)),M!=null&&(this.sysID=this.stringify.dtdSysID(M))}return a.prototype.element=function(p,D){var M;return M=new g(this,p,D),this.children.push(M),this},a.prototype.attList=function(p,D,M,X,I){var x;return x=new L(this,p,D,M,X,I),this.children.push(x),this},a.prototype.entity=function(p,D){var M;return M=new f(this,!1,p,D),this.children.push(M),this},a.prototype.pEntity=function(p,D){var M;return M=new f(this,!0,p,D),this.children.push(M),this},a.prototype.notation=function(p,D){var M;return M=new e(this,p,D),this.children.push(M),this},a.prototype.toString=function(p){return this.options.writer.set(p).docType(this)},a.prototype.ele=function(p,D){return this.element(p,D)},a.prototype.att=function(p,D,M,X,I){return this.attList(p,D,M,X,I)},a.prototype.ent=function(p,D){return this.entity(p,D)},a.prototype.pent=function(p,D){return this.pEntity(p,D)},a.prototype.not=function(p,D){return this.notation(p,D)},a.prototype.up=function(){return this.root()||this.documentObject},a}(r)}).call(te)),V.exports}var k={exports:{}},ee=k.exports,Tt;function pt(){return Tt||(Tt=1,(function(){var L,g=function(e,r){for(var u in r)f.call(r,u)&&(e[u]=r[u]);function y(){this.constructor=e}return y.prototype=r.prototype,e.prototype=new y,e.__super__=r.prototype,e},f={}.hasOwnProperty;L=T(),k.exports=function(e){g(r,e);function r(u,y){if(r.__super__.constructor.call(this,u),y==null)throw new Error("Missing raw text. "+this.debugInfo());this.value=this.stringify.raw(y)}return r.prototype.clone=function(){return Object.create(this)},r.prototype.toString=function(u){return this.options.writer.set(u).raw(this)},r}(L)}).call(ee)),k.exports}var z={exports:{}},re=z.exports,Nt;function ft(){return Nt||(Nt=1,(function(){var L,g=function(e,r){for(var u in r)f.call(r,u)&&(e[u]=r[u]);function y(){this.constructor=e}return y.prototype=r.prototype,e.prototype=new y,e.__super__=r.prototype,e},f={}.hasOwnProperty;L=T(),z.exports=function(e){g(r,e);function r(u,y){if(r.__super__.constructor.call(this,u),y==null)throw new Error("Missing element text. "+this.debugInfo());this.value=this.stringify.eleText(y)}return r.prototype.clone=function(){return Object.create(this)},r.prototype.toString=function(u){return this.options.writer.set(u).text(this)},r}(L)}).call(re)),z.exports}var Q={exports:{}},ie=Q.exports,At;function lt(){return At||(At=1,(function(){var L,g=function(e,r){for(var u in r)f.call(r,u)&&(e[u]=r[u]);function y(){this.constructor=e}return y.prototype=r.prototype,e.prototype=new y,e.__super__=r.prototype,e},f={}.hasOwnProperty;L=T(),Q.exports=function(e){g(r,e);function r(u,y,d){if(r.__super__.constructor.call(this,u),y==null)throw new Error("Missing instruction target. "+this.debugInfo());this.target=this.stringify.insTarget(y),d&&(this.value=this.stringify.insValue(d))}return r.prototype.clone=function(){return Object.create(this)},r.prototype.toString=function(u){return this.options.writer.set(u).processingInstruction(this)},r}(L)}).call(ie)),Q.exports}var Z={exports:{}},ne=Z.exports,Ot;function wt(){return Ot||(Ot=1,(function(){var L,g=function(e,r){for(var u in r)f.call(r,u)&&(e[u]=r[u]);function y(){this.constructor=e}return y.prototype=r.prototype,e.prototype=new y,e.__super__=r.prototype,e},f={}.hasOwnProperty;L=T(),Z.exports=function(e){g(r,e);function r(u){r.__super__.constructor.call(this,u),this.isDummy=!0}return r.prototype.clone=function(){return Object.create(this)},r.prototype.toString=function(u){return""},r}(L)}).call(ne)),Z.exports}var se=R.exports,Ct;function T(){return Ct||(Ct=1,(function(){var L,g,f,e,r,u,y,d,m,a,p,D,M,X,I={}.hasOwnProperty;X=O(),M=X.isObject,D=X.isFunction,p=X.isEmpty,a=X.getValue,u=null,L=null,g=null,f=null,e=null,d=null,m=null,y=null,r=null,R.exports=function(){function x(n){this.parent=n,this.parent&&(this.options=this.parent.options,this.stringify=this.parent.stringify),this.children=[],u||(u=rt(),L=it(),g=nt(),f=st(),e=at(),d=pt(),m=ft(),y=lt(),r=wt())}return x.prototype.element=function(n,o,t){var i,l,c,s,h,w,b,v,E,N,_;if(w=null,o===null&&t==null&&(E=[{},null],o=E[0],t=E[1]),o==null&&(o={}),o=a(o),M(o)||(N=[o,t],t=N[0],o=N[1]),n!=null&&(n=a(n)),Array.isArray(n))for(c=0,b=n.length;c<b;c++)l=n[c],w=this.element(l);else if(D(n))w=this.element(n.apply());else if(M(n)){for(h in n)if(I.call(n,h))if(_=n[h],D(_)&&(_=_.apply()),M(_)&&p(_)&&(_=null),!this.options.ignoreDecorators&&this.stringify.convertAttKey&&h.indexOf(this.stringify.convertAttKey)===0)w=this.attribute(h.substr(this.stringify.convertAttKey.length),_);else if(!this.options.separateArrayItems&&Array.isArray(_))for(s=0,v=_.length;s<v;s++)l=_[s],i={},i[h]=l,w=this.element(i);else M(_)?(w=this.element(h),w.element(_)):w=this.element(h,_)}else this.options.skipNullNodes&&t===null?w=this.dummy():!this.options.ignoreDecorators&&this.stringify.convertTextKey&&n.indexOf(this.stringify.convertTextKey)===0?w=this.text(t):!this.options.ignoreDecorators&&this.stringify.convertCDataKey&&n.indexOf(this.stringify.convertCDataKey)===0?w=this.cdata(t):!this.options.ignoreDecorators&&this.stringify.convertCommentKey&&n.indexOf(this.stringify.convertCommentKey)===0?w=this.comment(t):!this.options.ignoreDecorators&&this.stringify.convertRawKey&&n.indexOf(this.stringify.convertRawKey)===0?w=this.raw(t):!this.options.ignoreDecorators&&this.stringify.convertPIKey&&n.indexOf(this.stringify.convertPIKey)===0?w=this.instruction(n.substr(this.stringify.convertPIKey.length),t):w=this.node(n,o,t);if(w==null)throw new Error("Could not create any elements with: "+n+". "+this.debugInfo());return w},x.prototype.insertBefore=function(n,o,t){var i,l,c;if(this.isRoot)throw new Error("Cannot insert elements at root level. "+this.debugInfo(n));return l=this.parent.children.indexOf(this),c=this.parent.children.splice(l),i=this.parent.element(n,o,t),Array.prototype.push.apply(this.parent.children,c),i},x.prototype.insertAfter=function(n,o,t){var i,l,c;if(this.isRoot)throw new Error("Cannot insert elements at root level. "+this.debugInfo(n));return l=this.parent.children.indexOf(this),c=this.parent.children.splice(l+1),i=this.parent.element(n,o,t),Array.prototype.push.apply(this.parent.children,c),i},x.prototype.remove=function(){var n;if(this.isRoot)throw new Error("Cannot remove the root element. "+this.debugInfo());return n=this.parent.children.indexOf(this),[].splice.apply(this.parent.children,[n,n-n+1].concat([])),this.parent},x.prototype.node=function(n,o,t){var i,l;return n!=null&&(n=a(n)),o||(o={}),o=a(o),M(o)||(l=[o,t],t=l[0],o=l[1]),i=new u(this,n,o),t!=null&&i.text(t),this.children.push(i),i},x.prototype.text=function(n){var o;return o=new m(this,n),this.children.push(o),this},x.prototype.cdata=function(n){var o;return o=new L(this,n),this.children.push(o),this},x.prototype.comment=function(n){var o;return o=new g(this,n),this.children.push(o),this},x.prototype.commentBefore=function(n){var o,t;return o=this.parent.children.indexOf(this),t=this.parent.children.splice(o),this.parent.comment(n),Array.prototype.push.apply(this.parent.children,t),this},x.prototype.commentAfter=function(n){var o,t;return o=this.parent.children.indexOf(this),t=this.parent.children.splice(o+1),this.parent.comment(n),Array.prototype.push.apply(this.parent.children,t),this},x.prototype.raw=function(n){var o;return o=new d(this,n),this.children.push(o),this},x.prototype.dummy=function(){var n;return n=new r(this),this.children.push(n),n},x.prototype.instruction=function(n,o){var t,i,l,c,s;if(n!=null&&(n=a(n)),o!=null&&(o=a(o)),Array.isArray(n))for(c=0,s=n.length;c<s;c++)t=n[c],this.instruction(t);else if(M(n))for(t in n)I.call(n,t)&&(i=n[t],this.instruction(t,i));else D(o)&&(o=o.apply()),l=new y(this,n,o),this.children.push(l);return this},x.prototype.instructionBefore=function(n,o){var t,i;return t=this.parent.children.indexOf(this),i=this.parent.children.splice(t),this.parent.instruction(n,o),Array.prototype.push.apply(this.parent.children,i),this},x.prototype.instructionAfter=function(n,o){var t,i;return t=this.parent.children.indexOf(this),i=this.parent.children.splice(t+1),this.parent.instruction(n,o),Array.prototype.push.apply(this.parent.children,i),this},x.prototype.declaration=function(n,o,t){var i,l;return i=this.document(),l=new f(i,n,o,t),i.children[0]instanceof f?i.children[0]=l:i.children.unshift(l),i.root()||i},x.prototype.doctype=function(n,o){var t,i,l,c,s,h,w,b,v,E;for(i=this.document(),l=new e(i,n,o),v=i.children,c=s=0,w=v.length;s<w;c=++s)if(t=v[c],t instanceof e)return i.children[c]=l,l;for(E=i.children,c=h=0,b=E.length;h<b;c=++h)if(t=E[c],t.isRoot)return i.children.splice(c,0,l),l;return i.children.push(l),l},x.prototype.up=function(){if(this.isRoot)throw new Error("The root node has no parent. Use doc() if you need to get the document object.");return this.parent},x.prototype.root=function(){var n;for(n=this;n;){if(n.isDocument)return n.rootObject;if(n.isRoot)return n;n=n.parent}},x.prototype.document=function(){var n;for(n=this;n;){if(n.isDocument)return n;n=n.parent}},x.prototype.end=function(n){return this.document().end(n)},x.prototype.prev=function(){var n;for(n=this.parent.children.indexOf(this);n>0&&this.parent.children[n-1].isDummy;)n=n-1;if(n<1)throw new Error("Already at the first node. "+this.debugInfo());return this.parent.children[n-1]},x.prototype.next=function(){var n;for(n=this.parent.children.indexOf(this);n<this.parent.children.length-1&&this.parent.children[n+1].isDummy;)n=n+1;if(n===-1||n===this.parent.children.length-1)throw new Error("Already at the last node. "+this.debugInfo());return this.parent.children[n+1]},x.prototype.importDocument=function(n){var o;return o=n.root().clone(),o.parent=this,o.isRoot=!1,this.children.push(o),this},x.prototype.debugInfo=function(n){var o,t;return n=n||this.name,n==null&&!((o=this.parent)!=null&&o.name)?"":n==null?"parent: <"+this.parent.name+">":(t=this.parent)!=null&&t.name?"node: <"+n+">, parent: <"+this.parent.name+">":"node: <"+n+">"},x.prototype.ele=function(n,o,t){return this.element(n,o,t)},x.prototype.nod=function(n,o,t){return this.node(n,o,t)},x.prototype.txt=function(n){return this.text(n)},x.prototype.dat=function(n){return this.cdata(n)},x.prototype.com=function(n){return this.comment(n)},x.prototype.ins=function(n,o){return this.instruction(n,o)},x.prototype.doc=function(){return this.document()},x.prototype.dec=function(n,o,t){return this.declaration(n,o,t)},x.prototype.dtd=function(n,o){return this.doctype(n,o)},x.prototype.e=function(n,o,t){return this.element(n,o,t)},x.prototype.n=function(n,o,t){return this.node(n,o,t)},x.prototype.t=function(n){return this.text(n)},x.prototype.d=function(n){return this.cdata(n)},x.prototype.c=function(n){return this.comment(n)},x.prototype.r=function(n){return this.raw(n)},x.prototype.i=function(n,o){return this.instruction(n,o)},x.prototype.u=function(){return this.up()},x.prototype.importXMLBuilder=function(n){return this.importDocument(n)},x}()}).call(se)),R.exports}var G={exports:{}},oe=G.exports,Pt;function Vt(){return Pt||(Pt=1,(function(){var L=function(f,e){return function(){return f.apply(e,arguments)}},g={}.hasOwnProperty;G.exports=function(){function f(e){this.assertLegalChar=L(this.assertLegalChar,this);var r,u,y;e||(e={}),this.noDoubleEncoding=e.noDoubleEncoding,u=e.stringify||{};for(r in u)g.call(u,r)&&(y=u[r],this[r]=y)}return f.prototype.eleName=function(e){return e=""+e||"",this.assertLegalChar(e)},f.prototype.eleText=function(e){return e=""+e||"",this.assertLegalChar(this.elEscape(e))},f.prototype.cdata=function(e){return e=""+e||"",e=e.replace("]]>","]]]]><![CDATA[>"),this.assertLegalChar(e)},f.prototype.comment=function(e){if(e=""+e||"",e.match(/--/))throw new Error("Comment text cannot contain double-hypen: "+e);return this.assertLegalChar(e)},f.prototype.raw=function(e){return""+e||""},f.prototype.attName=function(e){return e=""+e||""},f.prototype.attValue=function(e){return e=""+e||"",this.attEscape(e)},f.prototype.insTarget=function(e){return""+e||""},f.prototype.insValue=function(e){if(e=""+e||"",e.match(/\?>/))throw new Error("Invalid processing instruction value: "+e);return e},f.prototype.xmlVersion=function(e){if(e=""+e||"",!e.match(/1\.[0-9]+/))throw new Error("Invalid version number: "+e);return e},f.prototype.xmlEncoding=function(e){if(e=""+e||"",!e.match(/^[A-Za-z](?:[A-Za-z0-9._-])*$/))throw new Error("Invalid encoding: "+e);return e},f.prototype.xmlStandalone=function(e){return e?"yes":"no"},f.prototype.dtdPubID=function(e){return""+e||""},f.prototype.dtdSysID=function(e){return""+e||""},f.prototype.dtdElementValue=function(e){return""+e||""},f.prototype.dtdAttType=function(e){return""+e||""},f.prototype.dtdAttDefault=function(e){return e!=null?""+e||"":e},f.prototype.dtdEntityValue=function(e){return""+e||""},f.prototype.dtdNData=function(e){return""+e||""},f.prototype.convertAttKey="@",f.prototype.convertPIKey="?",f.prototype.convertTextKey="#text",f.prototype.convertCDataKey="#cdata",f.prototype.convertCommentKey="#comment",f.prototype.convertRawKey="#raw",f.prototype.assertLegalChar=function(e){var r;if(r=e.match(/[\0\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/),r)throw new Error("Invalid character in string: "+e+" at index "+r.index);return e},f.prototype.elEscape=function(e){var r;return r=this.noDoubleEncoding?/(?!&\S+;)&/g:/&/g,e.replace(r,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r/g,"&#xD;")},f.prototype.attEscape=function(e){var r;return r=this.noDoubleEncoding?/(?!&\S+;)&/g:/&/g,e.replace(r,"&amp;").replace(/</g,"&lt;").replace(/"/g,"&quot;").replace(/\t/g,"&#x9;").replace(/\n/g,"&#xA;").replace(/\r/g,"&#xD;")},f}()}).call(oe)),G.exports}var H={exports:{}},J={exports:{}},ue=J.exports,St;function $t(){return St||(St=1,(function(){var L={}.hasOwnProperty;J.exports=function(){function g(f){var e,r,u,y,d,m,a,p,D;f||(f={}),this.pretty=f.pretty||!1,this.allowEmpty=(r=f.allowEmpty)!=null?r:!1,this.pretty?(this.indent=(u=f.indent)!=null?u:"  ",this.newline=(y=f.newline)!=null?y:`
`,this.offset=(d=f.offset)!=null?d:0,this.dontprettytextnodes=(m=f.dontprettytextnodes)!=null?m:0):(this.indent="",this.newline="",this.offset=0,this.dontprettytextnodes=0),this.spacebeforeslash=(a=f.spacebeforeslash)!=null?a:"",this.spacebeforeslash===!0&&(this.spacebeforeslash=" "),this.newlinedefault=this.newline,this.prettydefault=this.pretty,p=f.writer||{};for(e in p)L.call(p,e)&&(D=p[e],this[e]=D)}return g.prototype.set=function(f){var e,r,u;f||(f={}),"pretty"in f&&(this.pretty=f.pretty),"allowEmpty"in f&&(this.allowEmpty=f.allowEmpty),this.pretty?(this.indent="indent"in f?f.indent:"  ",this.newline="newline"in f?f.newline:`
`,this.offset="offset"in f?f.offset:0,this.dontprettytextnodes="dontprettytextnodes"in f?f.dontprettytextnodes:0):(this.indent="",this.newline="",this.offset=0,this.dontprettytextnodes=0),this.spacebeforeslash="spacebeforeslash"in f?f.spacebeforeslash:"",this.spacebeforeslash===!0&&(this.spacebeforeslash=" "),this.newlinedefault=this.newline,this.prettydefault=this.pretty,r=f.writer||{};for(e in r)L.call(r,e)&&(u=r[e],this[e]=u);return this},g.prototype.space=function(f){var e;return this.pretty?(e=(f||0)+this.offset+1,e>0?new Array(e).join(this.indent):""):""},g}()}).call(ue)),J.exports}var ce=H.exports,Rt;function mt(){return Rt||(Rt=1,(function(){var L,g,f,e,r,u,y,d,m,a,p,D,M,X,I=function(n,o){for(var t in o)x.call(o,t)&&(n[t]=o[t]);function i(){this.constructor=n}return i.prototype=o.prototype,n.prototype=new i,n.__super__=o.prototype,n},x={}.hasOwnProperty;y=st(),d=at(),L=it(),g=nt(),a=rt(),D=pt(),M=ft(),p=lt(),m=wt(),f=ot(),e=ct(),r=ut(),u=ht(),X=$t(),H.exports=function(n){I(o,n);function o(t){o.__super__.constructor.call(this,t)}return o.prototype.document=function(t){var i,l,c,s,h;for(this.textispresent=!1,s="",h=t.children,l=0,c=h.length;l<c;l++)i=h[l],!(i instanceof m)&&(s+=(function(){switch(!1){case!(i instanceof y):return this.declaration(i);case!(i instanceof d):return this.docType(i);case!(i instanceof g):return this.comment(i);case!(i instanceof p):return this.processingInstruction(i);default:return this.element(i,0)}}).call(this));return this.pretty&&s.slice(-this.newline.length)===this.newline&&(s=s.slice(0,-this.newline.length)),s},o.prototype.attribute=function(t){return" "+t.name+'="'+t.value+'"'},o.prototype.cdata=function(t,i){return this.space(i)+"<![CDATA["+t.text+"]]>"+this.newline},o.prototype.comment=function(t,i){return this.space(i)+"<!-- "+t.text+" -->"+this.newline},o.prototype.declaration=function(t,i){var l;return l=this.space(i),l+='<?xml version="'+t.version+'"',t.encoding!=null&&(l+=' encoding="'+t.encoding+'"'),t.standalone!=null&&(l+=' standalone="'+t.standalone+'"'),l+=this.spacebeforeslash+"?>",l+=this.newline,l},o.prototype.docType=function(t,i){var l,c,s,h,w;if(i||(i=0),h=this.space(i),h+="<!DOCTYPE "+t.root().name,t.pubID&&t.sysID?h+=' PUBLIC "'+t.pubID+'" "'+t.sysID+'"':t.sysID&&(h+=' SYSTEM "'+t.sysID+'"'),t.children.length>0){for(h+=" [",h+=this.newline,w=t.children,c=0,s=w.length;c<s;c++)l=w[c],h+=(function(){switch(!1){case!(l instanceof f):return this.dtdAttList(l,i+1);case!(l instanceof e):return this.dtdElement(l,i+1);case!(l instanceof r):return this.dtdEntity(l,i+1);case!(l instanceof u):return this.dtdNotation(l,i+1);case!(l instanceof L):return this.cdata(l,i+1);case!(l instanceof g):return this.comment(l,i+1);case!(l instanceof p):return this.processingInstruction(l,i+1);default:throw new Error("Unknown DTD node type: "+l.constructor.name)}}).call(this);h+="]"}return h+=this.spacebeforeslash+">",h+=this.newline,h},o.prototype.element=function(t,i){var l,c,s,h,w,b,v,E,N,_,yt,P,dt;i||(i=0),dt=!1,this.textispresent?(this.newline="",this.pretty=!1):(this.newline=this.newlinedefault,this.pretty=this.prettydefault),P=this.space(i),E="",E+=P+"<"+t.name,N=t.attributes;for(v in N)x.call(N,v)&&(l=N[v],E+=this.attribute(l));if(t.children.length===0||t.children.every(function(Wt){return Wt.value===""}))this.allowEmpty?E+="></"+t.name+">"+this.newline:E+=this.spacebeforeslash+"/>"+this.newline;else if(this.pretty&&t.children.length===1&&t.children[0].value!=null)E+=">",E+=t.children[0].value,E+="</"+t.name+">"+this.newline;else{if(this.dontprettytextnodes){for(_=t.children,s=0,w=_.length;s<w;s++)if(c=_[s],c.value!=null){this.textispresent++,dt=!0;break}}for(this.textispresent&&(this.newline="",this.pretty=!1,P=this.space(i)),E+=">"+this.newline,yt=t.children,h=0,b=yt.length;h<b;h++)c=yt[h],E+=(function(){switch(!1){case!(c instanceof L):return this.cdata(c,i+1);case!(c instanceof g):return this.comment(c,i+1);case!(c instanceof a):return this.element(c,i+1);case!(c instanceof D):return this.raw(c,i+1);case!(c instanceof M):return this.text(c,i+1);case!(c instanceof p):return this.processingInstruction(c,i+1);case!(c instanceof m):return"";default:throw new Error("Unknown XML node type: "+c.constructor.name)}}).call(this);dt&&this.textispresent--,this.textispresent||(this.newline=this.newlinedefault,this.pretty=this.prettydefault),E+=P+"</"+t.name+">"+this.newline}return E},o.prototype.processingInstruction=function(t,i){var l;return l=this.space(i)+"<?"+t.target,t.value&&(l+=" "+t.value),l+=this.spacebeforeslash+"?>"+this.newline,l},o.prototype.raw=function(t,i){return this.space(i)+t.value+this.newline},o.prototype.text=function(t,i){return this.space(i)+t.value+this.newline},o.prototype.dtdAttList=function(t,i){var l;return l=this.space(i)+"<!ATTLIST "+t.elementName+" "+t.attributeName+" "+t.attributeType,t.defaultValueType!=="#DEFAULT"&&(l+=" "+t.defaultValueType),t.defaultValue&&(l+=' "'+t.defaultValue+'"'),l+=this.spacebeforeslash+">"+this.newline,l},o.prototype.dtdElement=function(t,i){return this.space(i)+"<!ELEMENT "+t.name+" "+t.value+this.spacebeforeslash+">"+this.newline},o.prototype.dtdEntity=function(t,i){var l;return l=this.space(i)+"<!ENTITY",t.pe&&(l+=" %"),l+=" "+t.name,t.value?l+=' "'+t.value+'"':(t.pubID&&t.sysID?l+=' PUBLIC "'+t.pubID+'" "'+t.sysID+'"':t.sysID&&(l+=' SYSTEM "'+t.sysID+'"'),t.nData&&(l+=" NDATA "+t.nData)),l+=this.spacebeforeslash+">"+this.newline,l},o.prototype.dtdNotation=function(t,i){var l;return l=this.space(i)+"<!NOTATION "+t.name,t.pubID&&t.sysID?l+=' PUBLIC "'+t.pubID+'" "'+t.sysID+'"':t.pubID?l+=' PUBLIC "'+t.pubID+'"':t.sysID&&(l+=' SYSTEM "'+t.sysID+'"'),l+=this.spacebeforeslash+">"+this.newline,l},o.prototype.openNode=function(t,i){var l,c,s,h;if(i||(i=0),t instanceof a){s=this.space(i)+"<"+t.name,h=t.attributes;for(c in h)x.call(h,c)&&(l=h[c],s+=this.attribute(l));return s+=(t.children?">":"/>")+this.newline,s}else return s=this.space(i)+"<!DOCTYPE "+t.rootNodeName,t.pubID&&t.sysID?s+=' PUBLIC "'+t.pubID+'" "'+t.sysID+'"':t.sysID&&(s+=' SYSTEM "'+t.sysID+'"'),s+=(t.children?" [":">")+this.newline,s},o.prototype.closeNode=function(t,i){switch(i||(i=0),!1){case!(t instanceof a):return this.space(i)+"</"+t.name+">"+this.newline;case!(t instanceof d):return this.space(i)+"]>"+this.newline}},o}(X)}).call(ce)),H.exports}var he=S.exports,qt;function ae(){return qt||(qt=1,(function(){var L,g,f,e,r=function(y,d){for(var m in d)u.call(d,m)&&(y[m]=d[m]);function a(){this.constructor=y}return a.prototype=d.prototype,y.prototype=new a,y.__super__=d.prototype,y},u={}.hasOwnProperty;e=O().isPlainObject,L=T(),f=Vt(),g=mt(),S.exports=function(y){r(d,y);function d(m){d.__super__.constructor.call(this,null),this.name="?xml",m||(m={}),m.writer||(m.writer=new g),this.options=m,this.stringify=new f(m),this.isDocument=!0}return d.prototype.end=function(m){var a;return m?e(m)&&(a=m,m=this.options.writer.set(a)):m=this.options.writer,m.document(this)},d.prototype.toString=function(m){return this.options.writer.set(m).document(this)},d}(L)}).call(he)),S.exports}var tt={exports:{}},pe=tt.exports,jt;function fe(){return jt||(jt=1,(function(){var L,g,f,e,r,u,y,d,m,a,p,D,M,X,I,x,n,o,t,i,l={}.hasOwnProperty;i=O(),o=i.isObject,n=i.isFunction,t=i.isPlainObject,x=i.getValue,a=rt(),g=it(),f=nt(),D=pt(),I=ft(),p=lt(),d=st(),m=at(),e=ot(),u=ut(),r=ct(),y=ht(),L=Ut(),X=Vt(),M=mt(),tt.exports=function(){function c(s,h,w){var b;this.name="?xml",s||(s={}),s.writer?t(s.writer)&&(b=s.writer,s.writer=new M(b)):s.writer=new M(s),this.options=s,this.writer=s.writer,this.stringify=new X(s),this.onDataCallback=h||function(){},this.onEndCallback=w||function(){},this.currentNode=null,this.currentLevel=-1,this.openTags={},this.documentStarted=!1,this.documentCompleted=!1,this.root=null}return c.prototype.node=function(s,h,w){var b,v;if(s==null)throw new Error("Missing node name.");if(this.root&&this.currentLevel===-1)throw new Error("Document can only have one root node. "+this.debugInfo(s));return this.openCurrent(),s=x(s),h===null&&w==null&&(b=[{},null],h=b[0],w=b[1]),h==null&&(h={}),h=x(h),o(h)||(v=[h,w],w=v[0],h=v[1]),this.currentNode=new a(this,s,h),this.currentNode.children=!1,this.currentLevel++,this.openTags[this.currentLevel]=this.currentNode,w!=null&&this.text(w),this},c.prototype.element=function(s,h,w){return this.currentNode&&this.currentNode instanceof m?this.dtdElement.apply(this,arguments):this.node(s,h,w)},c.prototype.attribute=function(s,h){var w,b;if(!this.currentNode||this.currentNode.children)throw new Error("att() can only be used immediately after an ele() call in callback mode. "+this.debugInfo(s));if(s!=null&&(s=x(s)),o(s))for(w in s)l.call(s,w)&&(b=s[w],this.attribute(w,b));else n(h)&&(h=h.apply()),(!this.options.skipNullAttributes||h!=null)&&(this.currentNode.attributes[s]=new L(this,s,h));return this},c.prototype.text=function(s){var h;return this.openCurrent(),h=new I(this,s),this.onData(this.writer.text(h,this.currentLevel+1),this.currentLevel+1),this},c.prototype.cdata=function(s){var h;return this.openCurrent(),h=new g(this,s),this.onData(this.writer.cdata(h,this.currentLevel+1),this.currentLevel+1),this},c.prototype.comment=function(s){var h;return this.openCurrent(),h=new f(this,s),this.onData(this.writer.comment(h,this.currentLevel+1),this.currentLevel+1),this},c.prototype.raw=function(s){var h;return this.openCurrent(),h=new D(this,s),this.onData(this.writer.raw(h,this.currentLevel+1),this.currentLevel+1),this},c.prototype.instruction=function(s,h){var w,b,v,E,N;if(this.openCurrent(),s!=null&&(s=x(s)),h!=null&&(h=x(h)),Array.isArray(s))for(w=0,E=s.length;w<E;w++)b=s[w],this.instruction(b);else if(o(s))for(b in s)l.call(s,b)&&(v=s[b],this.instruction(b,v));else n(h)&&(h=h.apply()),N=new p(this,s,h),this.onData(this.writer.processingInstruction(N,this.currentLevel+1),this.currentLevel+1);return this},c.prototype.declaration=function(s,h,w){var b;if(this.openCurrent(),this.documentStarted)throw new Error("declaration() must be the first node.");return b=new d(this,s,h,w),this.onData(this.writer.declaration(b,this.currentLevel+1),this.currentLevel+1),this},c.prototype.doctype=function(s,h,w){if(this.openCurrent(),s==null)throw new Error("Missing root node name.");if(this.root)throw new Error("dtd() must come before the root node.");return this.currentNode=new m(this,h,w),this.currentNode.rootNodeName=s,this.currentNode.children=!1,this.currentLevel++,this.openTags[this.currentLevel]=this.currentNode,this},c.prototype.dtdElement=function(s,h){var w;return this.openCurrent(),w=new r(this,s,h),this.onData(this.writer.dtdElement(w,this.currentLevel+1),this.currentLevel+1),this},c.prototype.attList=function(s,h,w,b,v){var E;return this.openCurrent(),E=new e(this,s,h,w,b,v),this.onData(this.writer.dtdAttList(E,this.currentLevel+1),this.currentLevel+1),this},c.prototype.entity=function(s,h){var w;return this.openCurrent(),w=new u(this,!1,s,h),this.onData(this.writer.dtdEntity(w,this.currentLevel+1),this.currentLevel+1),this},c.prototype.pEntity=function(s,h){var w;return this.openCurrent(),w=new u(this,!0,s,h),this.onData(this.writer.dtdEntity(w,this.currentLevel+1),this.currentLevel+1),this},c.prototype.notation=function(s,h){var w;return this.openCurrent(),w=new y(this,s,h),this.onData(this.writer.dtdNotation(w,this.currentLevel+1),this.currentLevel+1),this},c.prototype.up=function(){if(this.currentLevel<0)throw new Error("The document node has no parent.");return this.currentNode?(this.currentNode.children?this.closeNode(this.currentNode):this.openNode(this.currentNode),this.currentNode=null):this.closeNode(this.openTags[this.currentLevel]),delete this.openTags[this.currentLevel],this.currentLevel--,this},c.prototype.end=function(){for(;this.currentLevel>=0;)this.up();return this.onEnd()},c.prototype.openCurrent=function(){if(this.currentNode)return this.currentNode.children=!0,this.openNode(this.currentNode)},c.prototype.openNode=function(s){if(!s.isOpen)return!this.root&&this.currentLevel===0&&s instanceof a&&(this.root=s),this.onData(this.writer.openNode(s,this.currentLevel),this.currentLevel),s.isOpen=!0},c.prototype.closeNode=function(s){if(!s.isClosed)return this.onData(this.writer.closeNode(s,this.currentLevel),this.currentLevel),s.isClosed=!0},c.prototype.onData=function(s,h){return this.documentStarted=!0,this.onDataCallback(s,h+1)},c.prototype.onEnd=function(){return this.documentCompleted=!0,this.onEndCallback()},c.prototype.debugInfo=function(s){return s==null?"":"node: <"+s+">"},c.prototype.ele=function(){return this.element.apply(this,arguments)},c.prototype.nod=function(s,h,w){return this.node(s,h,w)},c.prototype.txt=function(s){return this.text(s)},c.prototype.dat=function(s){return this.cdata(s)},c.prototype.com=function(s){return this.comment(s)},c.prototype.ins=function(s,h){return this.instruction(s,h)},c.prototype.dec=function(s,h,w){return this.declaration(s,h,w)},c.prototype.dtd=function(s,h,w){return this.doctype(s,h,w)},c.prototype.e=function(s,h,w){return this.element(s,h,w)},c.prototype.n=function(s,h,w){return this.node(s,h,w)},c.prototype.t=function(s){return this.text(s)},c.prototype.d=function(s){return this.cdata(s)},c.prototype.c=function(s){return this.comment(s)},c.prototype.r=function(s){return this.raw(s)},c.prototype.i=function(s,h){return this.instruction(s,h)},c.prototype.att=function(){return this.currentNode&&this.currentNode instanceof m?this.attList.apply(this,arguments):this.attribute.apply(this,arguments)},c.prototype.a=function(){return this.currentNode&&this.currentNode instanceof m?this.attList.apply(this,arguments):this.attribute.apply(this,arguments)},c.prototype.ent=function(s,h){return this.entity(s,h)},c.prototype.pent=function(s,h){return this.pEntity(s,h)},c.prototype.not=function(s,h){return this.notation(s,h)},c}()}).call(pe)),tt.exports}var et={exports:{}},le=et.exports,Ft;function ye(){return Ft||(Ft=1,(function(){var L,g,f,e,r,u,y,d,m,a,p,D,M,X,I=function(n,o){for(var t in o)x.call(o,t)&&(n[t]=o[t]);function i(){this.constructor=n}return i.prototype=o.prototype,n.prototype=new i,n.__super__=o.prototype,n},x={}.hasOwnProperty;y=st(),d=at(),L=it(),g=nt(),a=rt(),D=pt(),M=ft(),p=lt(),m=wt(),f=ot(),e=ct(),r=ut(),u=ht(),X=$t(),et.exports=function(n){I(o,n);function o(t,i){o.__super__.constructor.call(this,i),this.stream=t}return o.prototype.document=function(t){var i,l,c,s,h,w,b,v;for(w=t.children,l=0,s=w.length;l<s;l++)i=w[l],i.isLastRootNode=!1;for(t.children[t.children.length-1].isLastRootNode=!0,b=t.children,v=[],c=0,h=b.length;c<h;c++)if(i=b[c],!(i instanceof m))switch(!1){case!(i instanceof y):v.push(this.declaration(i));break;case!(i instanceof d):v.push(this.docType(i));break;case!(i instanceof g):v.push(this.comment(i));break;case!(i instanceof p):v.push(this.processingInstruction(i));break;default:v.push(this.element(i))}return v},o.prototype.attribute=function(t){return this.stream.write(" "+t.name+'="'+t.value+'"')},o.prototype.cdata=function(t,i){return this.stream.write(this.space(i)+"<![CDATA["+t.text+"]]>"+this.endline(t))},o.prototype.comment=function(t,i){return this.stream.write(this.space(i)+"<!-- "+t.text+" -->"+this.endline(t))},o.prototype.declaration=function(t,i){return this.stream.write(this.space(i)),this.stream.write('<?xml version="'+t.version+'"'),t.encoding!=null&&this.stream.write(' encoding="'+t.encoding+'"'),t.standalone!=null&&this.stream.write(' standalone="'+t.standalone+'"'),this.stream.write(this.spacebeforeslash+"?>"),this.stream.write(this.endline(t))},o.prototype.docType=function(t,i){var l,c,s,h;if(i||(i=0),this.stream.write(this.space(i)),this.stream.write("<!DOCTYPE "+t.root().name),t.pubID&&t.sysID?this.stream.write(' PUBLIC "'+t.pubID+'" "'+t.sysID+'"'):t.sysID&&this.stream.write(' SYSTEM "'+t.sysID+'"'),t.children.length>0){for(this.stream.write(" ["),this.stream.write(this.endline(t)),h=t.children,c=0,s=h.length;c<s;c++)switch(l=h[c],!1){case!(l instanceof f):this.dtdAttList(l,i+1);break;case!(l instanceof e):this.dtdElement(l,i+1);break;case!(l instanceof r):this.dtdEntity(l,i+1);break;case!(l instanceof u):this.dtdNotation(l,i+1);break;case!(l instanceof L):this.cdata(l,i+1);break;case!(l instanceof g):this.comment(l,i+1);break;case!(l instanceof p):this.processingInstruction(l,i+1);break;default:throw new Error("Unknown DTD node type: "+l.constructor.name)}this.stream.write("]")}return this.stream.write(this.spacebeforeslash+">"),this.stream.write(this.endline(t))},o.prototype.element=function(t,i){var l,c,s,h,w,b,v,E;i||(i=0),E=this.space(i),this.stream.write(E+"<"+t.name),b=t.attributes;for(w in b)x.call(b,w)&&(l=b[w],this.attribute(l));if(t.children.length===0||t.children.every(function(N){return N.value===""}))this.allowEmpty?this.stream.write("></"+t.name+">"):this.stream.write(this.spacebeforeslash+"/>");else if(this.pretty&&t.children.length===1&&t.children[0].value!=null)this.stream.write(">"),this.stream.write(t.children[0].value),this.stream.write("</"+t.name+">");else{for(this.stream.write(">"+this.newline),v=t.children,s=0,h=v.length;s<h;s++)switch(c=v[s],!1){case!(c instanceof L):this.cdata(c,i+1);break;case!(c instanceof g):this.comment(c,i+1);break;case!(c instanceof a):this.element(c,i+1);break;case!(c instanceof D):this.raw(c,i+1);break;case!(c instanceof M):this.text(c,i+1);break;case!(c instanceof p):this.processingInstruction(c,i+1);break;case!(c instanceof m):break;default:throw new Error("Unknown XML node type: "+c.constructor.name)}this.stream.write(E+"</"+t.name+">")}return this.stream.write(this.endline(t))},o.prototype.processingInstruction=function(t,i){return this.stream.write(this.space(i)+"<?"+t.target),t.value&&this.stream.write(" "+t.value),this.stream.write(this.spacebeforeslash+"?>"+this.endline(t))},o.prototype.raw=function(t,i){return this.stream.write(this.space(i)+t.value+this.endline(t))},o.prototype.text=function(t,i){return this.stream.write(this.space(i)+t.value+this.endline(t))},o.prototype.dtdAttList=function(t,i){return this.stream.write(this.space(i)+"<!ATTLIST "+t.elementName+" "+t.attributeName+" "+t.attributeType),t.defaultValueType!=="#DEFAULT"&&this.stream.write(" "+t.defaultValueType),t.defaultValue&&this.stream.write(' "'+t.defaultValue+'"'),this.stream.write(this.spacebeforeslash+">"+this.endline(t))},o.prototype.dtdElement=function(t,i){return this.stream.write(this.space(i)+"<!ELEMENT "+t.name+" "+t.value),this.stream.write(this.spacebeforeslash+">"+this.endline(t))},o.prototype.dtdEntity=function(t,i){return this.stream.write(this.space(i)+"<!ENTITY"),t.pe&&this.stream.write(" %"),this.stream.write(" "+t.name),t.value?this.stream.write(' "'+t.value+'"'):(t.pubID&&t.sysID?this.stream.write(' PUBLIC "'+t.pubID+'" "'+t.sysID+'"'):t.sysID&&this.stream.write(' SYSTEM "'+t.sysID+'"'),t.nData&&this.stream.write(" NDATA "+t.nData)),this.stream.write(this.spacebeforeslash+">"+this.endline(t))},o.prototype.dtdNotation=function(t,i){return this.stream.write(this.space(i)+"<!NOTATION "+t.name),t.pubID&&t.sysID?this.stream.write(' PUBLIC "'+t.pubID+'" "'+t.sysID+'"'):t.pubID?this.stream.write(' PUBLIC "'+t.pubID+'"'):t.sysID&&this.stream.write(' SYSTEM "'+t.sysID+'"'),this.stream.write(this.spacebeforeslash+">"+this.endline(t))},o.prototype.endline=function(t){return t.isLastRootNode?"":this.newline},o}(X)}).call(le)),et.exports}var Bt;function de(){return Bt||(Bt=1,(function(){var L,g,f,e,r,u,y;y=O(),r=y.assign,u=y.isFunction,L=ae(),g=fe(),e=mt(),f=ye(),C.create=function(d,m,a,p){var D,M;if(d==null)throw new Error("Root element needs a name.");return p=r({},m,a,p),D=new L(p),M=D.element(d),p.headless||(D.declaration(p),(p.pubID!=null||p.sysID!=null)&&D.doctype(p)),M},C.begin=function(d,m,a){var p;return u(d)&&(p=[d,m],m=p[0],a=p[1],d={}),m?new g(d,m,a):new L(d)},C.stringWriter=function(d){return new e(d)},C.streamWriter=function(d,m){return new f(d,m)}}).call(C)),C}export{de as r};
