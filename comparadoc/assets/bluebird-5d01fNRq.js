import{c as ve}from"./@xmldom-BSdgGZWi.js";var be={exports:{}},de={exports:{}},et;function he(){if(et)return de.exports;et=1;var e=function(){return this===void 0}();if(e)de.exports={freeze:Object.freeze,defineProperty:Object.defineProperty,getDescriptor:Object.getOwnPropertyDescriptor,keys:Object.keys,names:Object.getOwnPropertyNames,getPrototypeOf:Object.getPrototypeOf,isArray:Array.isArray,isES5:e,propertyIsWritable:function(a,i){var f=Object.getOwnPropertyDescriptor(a,i);return!!(!f||f.writable||f.set)}};else{var w={}.hasOwnProperty,E={}.toString,o={}.constructor.prototype,y=function(a){var i=[];for(var f in a)w.call(a,f)&&i.push(f);return i},_=function(a,i){return{value:a[i]}},m=function(a,i,f){return a[i]=f.value,a},u=function(a){return a},t=function(a){try{return Object(a).constructor.prototype}catch{return o}},s=function(a){try{return E.call(a)==="[object Array]"}catch{return!1}};de.exports={isArray:s,keys:y,names:y,defineProperty:m,getDescriptor:_,freeze:u,getPrototypeOf:t,isES5:e,propertyIsWritable:function(){return!0}}}return de.exports}var pe,tt;function J(){if(tt)return pe;tt=1;var e={},w=he(),E=typeof navigator>"u",o={e:{}},y,_=typeof self<"u"?self:typeof window<"u"?window:typeof ve<"u"?ve:pe!==void 0?pe:null;function m(){try{var g=y;return y=null,g.apply(this,arguments)}catch(V){return o.e=V,o}}function u(g){return y=g,m}var t=function(g,V){var $={}.hasOwnProperty;function N(){this.constructor=g,this.constructor$=V;for(var H in V.prototype)$.call(V.prototype,H)&&H.charAt(H.length-1)!=="$"&&(this[H+"$"]=V.prototype[H])}return N.prototype=V.prototype,g.prototype=new N,g.prototype};function s(g){return g==null||g===!0||g===!1||typeof g=="string"||typeof g=="number"}function a(g){return typeof g=="function"||typeof g=="object"&&g!==null}function i(g){return s(g)?new Error(W(g)):g}function f(g,V){var $=g.length,N=new Array($+1),H;for(H=0;H<$;++H)N[H]=g[H];return N[H]=V,N}function h(g,V,$){if(w.isES5){var N=Object.getOwnPropertyDescriptor(g,V);if(N!=null)return N.get==null&&N.set==null?N.value:$}else return{}.hasOwnProperty.call(g,V)?g[V]:void 0}function r(g,V,$){if(s(g))return g;var N={value:$,configurable:!0,enumerable:!1,writable:!0};return w.defineProperty(g,V,N),g}function l(g){throw g}var p=function(){var g=[Array.prototype,Object.prototype,Function.prototype],V=function(H){for(var Y=0;Y<g.length;++Y)if(g[Y]===H)return!0;return!1};if(w.isES5){var $=Object.getOwnPropertyNames;return function(H){for(var Y=[],ne=Object.create(null);H!=null&&!V(H);){var ie;try{ie=$(H)}catch{return Y}for(var ce=0;ce<ie.length;++ce){var ue=ie[ce];if(!ne[ue]){ne[ue]=!0;var fe=Object.getOwnPropertyDescriptor(H,ue);fe!=null&&fe.get==null&&fe.set==null&&Y.push(ue)}}H=w.getPrototypeOf(H)}return Y}}else{var N={}.hasOwnProperty;return function(H){if(V(H))return[];var Y=[];e:for(var ne in H)if(N.call(H,ne))Y.push(ne);else{for(var ie=0;ie<g.length;++ie)if(N.call(g[ie],ne))continue e;Y.push(ne)}return Y}}}(),b=/this\s*\.\s*\S+\s*=/;function k(g){try{if(typeof g=="function"){var V=w.names(g.prototype),$=w.isES5&&V.length>1,N=V.length>0&&!(V.length===1&&V[0]==="constructor"),H=b.test(g+"")&&w.names(g).length>0;if($||N||H)return!0}return!1}catch{return!1}}function F(g){return g}var x=/^[a-z$_][a-z$_0-9]*$/i;function q(g){return x.test(g)}function z(g,V,$){for(var N=new Array(g),H=0;H<g;++H)N[H]=V+H+$;return N}function W(g){try{return g+""}catch{return"[no string representation]"}}function U(g){return g!==null&&typeof g=="object"&&typeof g.message=="string"&&typeof g.name=="string"}function L(g){try{r(g,"isOperational",!0)}catch{}}function X(g){return g==null?!1:g instanceof Error.__BluebirdErrorTypes__.OperationalError||g.isOperational===!0}function re(g){return U(g)&&w.propertyIsWritable(g,"stack")}var v=function(){return"stack"in new Error?function(g){return re(g)?g:new Error(W(g))}:function(g){if(re(g))return g;try{throw new Error(W(g))}catch(V){return V}}}();function O(g){return{}.toString.call(g)}function D(g,V,$){for(var N=w.names(g),H=0;H<N.length;++H){var Y=N[H];if($(Y))try{w.defineProperty(V,Y,w.getDescriptor(g,Y))}catch{}}}var G=function(g){return w.isArray(g)?g:null};if(typeof Symbol<"u"&&Symbol.iterator){var n=typeof Array.from=="function"?function(g){return Array.from(g)}:function(g){for(var V=[],$=g[Symbol.iterator](),N;!(N=$.next()).done;)V.push(N.value);return V};G=function(g){return w.isArray(g)?g:g!=null&&typeof g[Symbol.iterator]=="function"?n(g):null}}var C=typeof process<"u"&&O(process).toLowerCase()==="[object process]",T=typeof process<"u"&&typeof e<"u";function j(g){return T?e[g]:void 0}function A(){if(typeof Promise=="function")try{var g=new Promise(function(){});if({}.toString.call(g)==="[object Promise]")return Promise}catch{}}function I(g,V){return g.bind(V)}var Q={isClass:k,isIdentifier:q,inheritedDataKeys:p,getDataPropertyOrDefault:h,thrower:l,isArray:w.isArray,asArray:G,notEnumerableProp:r,isPrimitive:s,isObject:a,isError:U,canEvaluate:E,errorObj:o,tryCatch:u,inherits:t,withAppended:f,maybeWrapAsError:i,toFastProperties:F,filledRange:z,toString:W,canAttachTrace:re,ensureErrorObject:v,originatesFromRejection:X,markAsOriginatingFromRejection:L,classString:O,copyDescriptors:D,hasDevTools:typeof chrome<"u"&&chrome&&typeof chrome.loadTimes=="function",isNode:C,hasEnvVariables:T,env:j,global:_,getNativePromise:A,domainBind:I};Q.isRecentNode=Q.isNode&&function(){var g=process.versions.node.split(".").map(Number);return g[0]===0&&g[1]>10||g[0]>0}(),Q.isNode&&Q.toFastProperties(process);try{throw new Error}catch(g){Q.lastLineError=g}return pe=Q,pe}var _e={exports:{}},Ce,rt;function Ut(){if(rt)return Ce;rt=1;var e=J(),w,E=function(){throw new Error(`No async scheduler available

    See http://goo.gl/MqrFmX
`)},o=e.getNativePromise();if(e.isNode&&typeof MutationObserver>"u"){var y=ve.setImmediate,_=process.nextTick;w=e.isRecentNode?function(u){y.call(ve,u)}:function(u){_.call(process,u)}}else if(typeof o=="function"&&typeof o.resolve=="function"){var m=o.resolve();w=function(u){m.then(u)}}else typeof MutationObserver<"u"&&!(typeof window<"u"&&window.navigator&&(window.navigator.standalone||window.cordova))?w=function(){var u=document.createElement("div"),t={attributes:!0},s=!1,a=document.createElement("div"),i=new MutationObserver(function(){u.classList.toggle("foo"),s=!1});i.observe(a,t);var f=function(){s||(s=!0,a.classList.toggle("foo"))};return function(r){var l=new MutationObserver(function(){l.disconnect(),r()});l.observe(u,t),f()}}():typeof setImmediate<"u"?w=function(u){setImmediate(u)}:typeof setTimeout<"u"?w=function(u){setTimeout(u,0)}:w=E;return Ce=w,Ce}var we,nt;function Mt(){if(nt)return we;nt=1;function e(E,o,y,_,m){for(var u=0;u<m;++u)y[u+_]=E[u+o],E[u+o]=void 0}function w(E){this._capacity=E,this._length=0,this._front=0}return w.prototype._willBeOverCapacity=function(E){return this._capacity<E},w.prototype._pushOne=function(E){var o=this.length();this._checkCapacity(o+1);var y=this._front+o&this._capacity-1;this[y]=E,this._length=o+1},w.prototype.push=function(E,o,y){var _=this.length()+3;if(this._willBeOverCapacity(_)){this._pushOne(E),this._pushOne(o),this._pushOne(y);return}var m=this._front+_-3;this._checkCapacity(_);var u=this._capacity-1;this[m+0&u]=E,this[m+1&u]=o,this[m+2&u]=y,this._length=_},w.prototype.shift=function(){var E=this._front,o=this[E];return this[E]=void 0,this._front=E+1&this._capacity-1,this._length--,o},w.prototype.length=function(){return this._length},w.prototype._checkCapacity=function(E){this._capacity<E&&this._resizeTo(this._capacity<<1)},w.prototype._resizeTo=function(E){var o=this._capacity;this._capacity=E;var y=this._front,_=this._length,m=y+_&o-1;e(this,0,this,o,m)},we=w,we}var it;function Lt(){if(it)return _e.exports;it=1;var e;try{throw new Error}catch(t){e=t}var w=Ut(),E=Mt(),o=J();function y(){this._customScheduler=!1,this._isTickUsed=!1,this._lateQueue=new E(16),this._normalQueue=new E(16),this._haveDrainedQueues=!1,this._trampolineEnabled=!0;var t=this;this.drainQueues=function(){t._drainQueues()},this._schedule=w}y.prototype.setScheduler=function(t){var s=this._schedule;return this._schedule=t,this._customScheduler=!0,s},y.prototype.hasCustomScheduler=function(){return this._customScheduler},y.prototype.enableTrampoline=function(){this._trampolineEnabled=!0},y.prototype.disableTrampolineIfNecessary=function(){o.hasDevTools&&(this._trampolineEnabled=!1)},y.prototype.haveItemsQueued=function(){return this._isTickUsed||this._haveDrainedQueues},y.prototype.fatalError=function(t,s){s?(process.stderr.write("Fatal "+(t instanceof Error?t.stack:t)+`
`),process.exit(2)):this.throwLater(t)},y.prototype.throwLater=function(t,s){if(arguments.length===1&&(s=t,t=function(){throw s}),typeof setTimeout<"u")setTimeout(function(){t(s)},0);else try{this._schedule(function(){t(s)})}catch{throw new Error(`No async scheduler available

    See http://goo.gl/MqrFmX
`)}};function _(t,s,a){this._lateQueue.push(t,s,a),this._queueTick()}function m(t,s,a){this._normalQueue.push(t,s,a),this._queueTick()}function u(t){this._normalQueue._pushOne(t),this._queueTick()}return o.hasDevTools?(y.prototype.invokeLater=function(t,s,a){this._trampolineEnabled?_.call(this,t,s,a):this._schedule(function(){setTimeout(function(){t.call(s,a)},100)})},y.prototype.invoke=function(t,s,a){this._trampolineEnabled?m.call(this,t,s,a):this._schedule(function(){t.call(s,a)})},y.prototype.settlePromises=function(t){this._trampolineEnabled?u.call(this,t):this._schedule(function(){t._settlePromises()})}):(y.prototype.invokeLater=_,y.prototype.invoke=m,y.prototype.settlePromises=u),y.prototype._drainQueue=function(t){for(;t.length()>0;){var s=t.shift();if(typeof s!="function"){s._settlePromises();continue}var a=t.shift(),i=t.shift();s.call(a,i)}},y.prototype._drainQueues=function(){this._drainQueue(this._normalQueue),this._reset(),this._haveDrainedQueues=!0,this._drainQueue(this._lateQueue)},y.prototype._queueTick=function(){this._isTickUsed||(this._isTickUsed=!0,this._schedule(this.drainQueues))},y.prototype._reset=function(){this._isTickUsed=!1},_e.exports=y,_e.exports.firstLineError=e,_e.exports}var Ee,at;function se(){if(at)return Ee;at=1;var e=he(),w=e.freeze,E=J(),o=E.inherits,y=E.notEnumerableProp;function _(b,k){function F(x){if(!(this instanceof F))return new F(x);y(this,"message",typeof x=="string"?x:k),y(this,"name",b),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):Error.call(this)}return o(F,Error),F}var m,u,t=_("Warning","warning"),s=_("CancellationError","cancellation error"),a=_("TimeoutError","timeout error"),i=_("AggregateError","aggregate error");try{m=TypeError,u=RangeError}catch{m=_("TypeError","type error"),u=_("RangeError","range error")}for(var f="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),h=0;h<f.length;++h)typeof Array.prototype[f[h]]=="function"&&(i.prototype[f[h]]=Array.prototype[f[h]]);e.defineProperty(i.prototype,"length",{value:0,configurable:!1,writable:!0,enumerable:!0}),i.prototype.isOperational=!0;var r=0;i.prototype.toString=function(){var b=Array(r*4+1).join(" "),k=`
`+b+`AggregateError of:
`;r++,b=Array(r*4+1).join(" ");for(var F=0;F<this.length;++F){for(var x=this[F]===this?"[Circular AggregateError]":this[F]+"",q=x.split(`
`),z=0;z<q.length;++z)q[z]=b+q[z];x=q.join(`
`),k+=x+`
`}return r--,k};function l(b){if(!(this instanceof l))return new l(b);y(this,"name","OperationalError"),y(this,"message",b),this.cause=b,this.isOperational=!0,b instanceof Error?(y(this,"message",b.message),y(this,"stack",b.stack)):Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}o(l,Error);var p=Error.__BluebirdErrorTypes__;return p||(p=w({CancellationError:s,TimeoutError:a,OperationalError:l,RejectionError:l,AggregateError:i}),e.defineProperty(Error,"__BluebirdErrorTypes__",{value:p,writable:!1,enumerable:!1,configurable:!1})),Ee={Error,TypeError:m,RangeError:u,CancellationError:p.CancellationError,OperationalError:p.OperationalError,TimeoutError:p.TimeoutError,AggregateError:p.AggregateError,Warning:t},Ee}var Fe,ot;function Gt(){return ot||(ot=1,Fe=function(e,w){var E=J(),o=E.errorObj,y=E.isObject;function _(i,f){if(y(i)){if(i instanceof e)return i;var h=u(i);if(h===o){f&&f._pushContext();var r=e.reject(h.e);return f&&f._popContext(),r}else if(typeof h=="function"){if(s(i)){var r=new e(w);return i._then(r._fulfill,r._reject,void 0,r,null),r}return a(i,h,f)}}return i}function m(i){return i.then}function u(i){try{return m(i)}catch(f){return o.e=f,o}}var t={}.hasOwnProperty;function s(i){try{return t.call(i,"_promise0")}catch{return!1}}function a(i,f,h){var r=new e(w),l=r;h&&h._pushContext(),r._captureStackTrace(),h&&h._popContext();var p=!0,b=E.tryCatch(f).call(i,k,F);p=!1,r&&b===o&&(r._rejectCallback(b.e,!0,!0),r=null);function k(x){r&&(r._resolveCallback(x),r=null)}function F(x){r&&(r._rejectCallback(x,p,!0),r=null)}return l}return _}),Fe}var ke,st;function Qt(){return st||(st=1,ke=function(e,w,E,o,y){var _=J();_.isArray;function m(t){switch(t){case-2:return[];case-3:return{}}}function u(t){var s=this._promise=new e(w);t instanceof e&&s._propagateFrom(t,3),s._setOnCancel(this),this._values=t,this._length=0,this._totalResolved=0,this._init(void 0,-2)}return _.inherits(u,y),u.prototype.length=function(){return this._length},u.prototype.promise=function(){return this._promise},u.prototype._init=function t(s,a){var i=E(this._values,this._promise);if(i instanceof e){i=i._target();var f=i._bitField;if(this._values=i,(f&50397184)===0)return this._promise._setAsyncGuaranteed(),i._then(t,this._reject,void 0,this,a);if((f&33554432)!==0)i=i._value();else return(f&16777216)!==0?this._reject(i._reason()):this._cancel()}if(i=_.asArray(i),i===null){var h=o("expecting an array or an iterable object but got "+_.classString(i)).reason();this._promise._rejectCallback(h,!1);return}if(i.length===0){a===-5?this._resolveEmptyArray():this._resolve(m(a));return}this._iterate(i)},u.prototype._iterate=function(t){var s=this.getActualLength(t.length);this._length=s,this._values=this.shouldCopyValues()?new Array(s):this._values;for(var a=this._promise,i=!1,f=null,h=0;h<s;++h){var r=E(t[h],a);r instanceof e?(r=r._target(),f=r._bitField):f=null,i?f!==null&&r.suppressUnhandledRejections():f!==null?(f&50397184)===0?(r._proxy(this,h),this._values[h]=r):(f&33554432)!==0?i=this._promiseFulfilled(r._value(),h):(f&16777216)!==0?i=this._promiseRejected(r._reason(),h):i=this._promiseCancelled(h):i=this._promiseFulfilled(r,h)}i||a._setAsyncGuaranteed()},u.prototype._isResolved=function(){return this._values===null},u.prototype._resolve=function(t){this._values=null,this._promise._fulfill(t)},u.prototype._cancel=function(){this._isResolved()||!this._promise._isCancellable()||(this._values=null,this._promise._cancel())},u.prototype._reject=function(t){this._values=null,this._promise._rejectCallback(t,!1)},u.prototype._promiseFulfilled=function(t,s){this._values[s]=t;var a=++this._totalResolved;return a>=this._length?(this._resolve(this._values),!0):!1},u.prototype._promiseCancelled=function(){return this._cancel(),!0},u.prototype._promiseRejected=function(t){return this._totalResolved++,this._reject(t),!0},u.prototype._resultCancelled=function(){if(!this._isResolved()){var t=this._values;if(this._cancel(),t instanceof e)t.cancel();else for(var s=0;s<t.length;++s)t[s]instanceof e&&t[s].cancel()}},u.prototype.shouldCopyValues=function(){return!0},u.prototype.getActualLength=function(t){return t},u}),ke}var Te,ut;function Wt(){return ut||(ut=1,Te=function(e){var w=!1,E=[];e.prototype._promiseCreated=function(){},e.prototype._pushContext=function(){},e.prototype._popContext=function(){return null},e._peekContext=e.prototype._peekContext=function(){};function o(){this._trace=new o.CapturedTrace(_())}o.prototype._pushContext=function(){this._trace!==void 0&&(this._trace._promiseCreated=null,E.push(this._trace))},o.prototype._popContext=function(){if(this._trace!==void 0){var m=E.pop(),u=m._promiseCreated;return m._promiseCreated=null,u}return null};function y(){if(w)return new o}function _(){var m=E.length-1;if(m>=0)return E[m]}return o.CapturedTrace=null,o.create=y,o.deactivateLongStackTraces=function(){},o.activateLongStackTraces=function(){var m=e.prototype._pushContext,u=e.prototype._popContext,t=e._peekContext,s=e.prototype._peekContext,a=e.prototype._promiseCreated;o.deactivateLongStackTraces=function(){e.prototype._pushContext=m,e.prototype._popContext=u,e._peekContext=t,e.prototype._peekContext=s,e.prototype._promiseCreated=a,w=!1},w=!0,e.prototype._pushContext=o.prototype._pushContext,e.prototype._popContext=o.prototype._popContext,e._peekContext=e.prototype._peekContext=_,e.prototype._promiseCreated=function(){var i=this._peekContext();i&&i._promiseCreated==null&&(i._promiseCreated=this)}},o}),Te}var Re,lt;function zt(){return lt||(lt=1,Re=function(e,w){var E=e._getDomain,o=e._async,y=se().Warning,_=J(),m=_.canAttachTrace,u,t,s=/[\\\/]bluebird[\\\/]js[\\\/](release|debug|instrumented)/,a=/\((?:timers\.js):\d+:\d+\)/,i=/[\/<\(](.+?):(\d+):(\d+)\)?\s*$/,f=null,h=null,r=!1,l,p=!!(_.env("BLUEBIRD_DEBUG")!=0&&(_.env("BLUEBIRD_DEBUG")||_.env("NODE_ENV")==="development")),b=!!(_.env("BLUEBIRD_WARNINGS")!=0&&(p||_.env("BLUEBIRD_WARNINGS"))),k=!!(_.env("BLUEBIRD_LONG_STACK_TRACES")!=0&&(p||_.env("BLUEBIRD_LONG_STACK_TRACES"))),F=_.env("BLUEBIRD_W_FORGOTTEN_RETURN")!=0&&(b||!!_.env("BLUEBIRD_W_FORGOTTEN_RETURN"));e.prototype.suppressUnhandledRejections=function(){var c=this._target();c._bitField=c._bitField&-1048577|524288},e.prototype._ensurePossibleRejectionHandled=function(){(this._bitField&524288)===0&&(this._setRejectionIsUnhandled(),o.invokeLater(this._notifyUnhandledRejection,this,void 0))},e.prototype._notifyUnhandledRejectionIsHandled=function(){ue("rejectionHandled",u,void 0,this)},e.prototype._setReturnedNonUndefined=function(){this._bitField=this._bitField|268435456},e.prototype._returnedNonUndefined=function(){return(this._bitField&268435456)!==0},e.prototype._notifyUnhandledRejection=function(){if(this._isRejectionUnhandled()){var c=this._settledValue();this._setUnhandledRejectionIsNotified(),ue("unhandledRejection",t,c,this)}},e.prototype._setUnhandledRejectionIsNotified=function(){this._bitField=this._bitField|262144},e.prototype._unsetUnhandledRejectionIsNotified=function(){this._bitField=this._bitField&-262145},e.prototype._isUnhandledRejectionNotified=function(){return(this._bitField&262144)>0},e.prototype._setRejectionIsUnhandled=function(){this._bitField=this._bitField|1048576},e.prototype._unsetRejectionIsUnhandled=function(){this._bitField=this._bitField&-1048577,this._isUnhandledRejectionNotified()&&(this._unsetUnhandledRejectionIsNotified(),this._notifyUnhandledRejectionIsHandled())},e.prototype._isRejectionUnhandled=function(){return(this._bitField&1048576)>0},e.prototype._warn=function(c,d,R){return V(c,d,R||this)},e.onPossiblyUnhandledRejection=function(c){var d=E();t=typeof c=="function"?d===null?c:_.domainBind(d,c):void 0},e.onUnhandledRejectionHandled=function(c){var d=E();u=typeof c=="function"?d===null?c:_.domainBind(d,c):void 0};var x=function(){};e.longStackTraces=function(){if(o.haveItemsQueued()&&!ee.longStackTraces)throw new Error(`cannot enable long stack traces after promises have been created

    See http://goo.gl/MqrFmX
`);if(!ee.longStackTraces&&ye()){var c=e.prototype._captureStackTrace,d=e.prototype._attachExtraTrace;ee.longStackTraces=!0,x=function(){if(o.haveItemsQueued()&&!ee.longStackTraces)throw new Error(`cannot enable long stack traces after promises have been created

    See http://goo.gl/MqrFmX
`);e.prototype._captureStackTrace=c,e.prototype._attachExtraTrace=d,w.deactivateLongStackTraces(),o.enableTrampoline(),ee.longStackTraces=!1},e.prototype._captureStackTrace=A,e.prototype._attachExtraTrace=I,w.activateLongStackTraces(),o.disableTrampolineIfNecessary()}},e.hasLongStackTraces=function(){return ee.longStackTraces&&ye()};var q=function(){try{if(typeof CustomEvent=="function"){var c=new CustomEvent("CustomEvent");return _.global.dispatchEvent(c),function(d,R){var S=new CustomEvent(d.toLowerCase(),{detail:R,cancelable:!0});return!_.global.dispatchEvent(S)}}else if(typeof Event=="function"){var c=new Event("CustomEvent");return _.global.dispatchEvent(c),function(R,S){var B=new Event(R.toLowerCase(),{cancelable:!0});return B.detail=S,!_.global.dispatchEvent(B)}}else{var c=document.createEvent("CustomEvent");return c.initCustomEvent("testingtheevent",!1,!0,{}),_.global.dispatchEvent(c),function(R,S){var B=document.createEvent("CustomEvent");return B.initCustomEvent(R.toLowerCase(),!1,!0,S),!_.global.dispatchEvent(B)}}}catch{}return function(){return!1}}(),z=function(){return _.isNode?function(){return process.emit.apply(process,arguments)}:_.global?function(c){var d="on"+c.toLowerCase(),R=_.global[d];return R?(R.apply(_.global,[].slice.call(arguments,1)),!0):!1}:function(){return!1}}();function W(c,d){return{promise:d}}var U={promiseCreated:W,promiseFulfilled:W,promiseRejected:W,promiseResolved:W,promiseCancelled:W,promiseChained:function(c,d,R){return{promise:d,child:R}},warning:function(c,d){return{warning:d}},unhandledRejection:function(c,d,R){return{reason:d,promise:R}},rejectionHandled:W},L=function(c){var d=!1;try{d=z.apply(null,arguments)}catch(S){o.throwLater(S),d=!0}var R=!1;try{R=q(c,U[c].apply(null,arguments))}catch(S){o.throwLater(S),R=!0}return R||d};e.config=function(c){if(c=Object(c),"longStackTraces"in c&&(c.longStackTraces?e.longStackTraces():!c.longStackTraces&&e.hasLongStackTraces()&&x()),"warnings"in c){var d=c.warnings;ee.warnings=!!d,F=ee.warnings,_.isObject(d)&&"wForgottenReturn"in d&&(F=!!d.wForgottenReturn)}if("cancellation"in c&&c.cancellation&&!ee.cancellation){if(o.haveItemsQueued())throw new Error("cannot enable cancellation after promises are in use");e.prototype._clearCancellationData=G,e.prototype._propagateFrom=n,e.prototype._onCancel=O,e.prototype._setOnCancel=D,e.prototype._attachCancellationCallback=v,e.prototype._execute=re,T=n,ee.cancellation=!0}return"monitoring"in c&&(c.monitoring&&!ee.monitoring?(ee.monitoring=!0,e.prototype._fireEvent=L):!c.monitoring&&ee.monitoring&&(ee.monitoring=!1,e.prototype._fireEvent=X)),e};function X(){return!1}e.prototype._fireEvent=X,e.prototype._execute=function(c,d,R){try{c(d,R)}catch(S){return S}},e.prototype._onCancel=function(){},e.prototype._setOnCancel=function(c){},e.prototype._attachCancellationCallback=function(c){},e.prototype._captureStackTrace=function(){},e.prototype._attachExtraTrace=function(){},e.prototype._clearCancellationData=function(){},e.prototype._propagateFrom=function(c,d){};function re(c,d,R){var S=this;try{c(d,R,function(B){if(typeof B!="function")throw new TypeError("onCancel must be a function, got: "+_.toString(B));S._attachCancellationCallback(B)})}catch(B){return B}}function v(c){if(!this._isCancellable())return this;var d=this._onCancel();d!==void 0?_.isArray(d)?d.push(c):this._setOnCancel([d,c]):this._setOnCancel(c)}function O(){return this._onCancelField}function D(c){this._onCancelField=c}function G(){this._cancellationParent=void 0,this._onCancelField=void 0}function n(c,d){if((d&1)!==0){this._cancellationParent=c;var R=c._branchesRemainingToCancel;R===void 0&&(R=0),c._branchesRemainingToCancel=R+1}(d&2)!==0&&c._isBound()&&this._setBoundTo(c._boundTo)}function C(c,d){(d&2)!==0&&c._isBound()&&this._setBoundTo(c._boundTo)}var T=C;function j(){var c=this._boundTo;return c!==void 0&&c instanceof e?c.isFulfilled()?c.value():void 0:c}function A(){this._trace=new le(this._peekContext())}function I(c,d){if(m(c)){var R=this._trace;if(R!==void 0&&d&&(R=R._parent),R!==void 0)R.attachExtraTrace(c);else if(!c.__stackCleaned__){var S=ie(c);_.notEnumerableProp(c,"stack",S.message+`
`+S.stack.join(`
`)),_.notEnumerableProp(c,"__stackCleaned__",!0)}}}function Q(c,d,R,S,B){if(c===void 0&&d!==null&&F){if(B!==void 0&&B._returnedNonUndefined()||(S._bitField&65535)===0)return;R&&(R=R+" ");var P="",K="";if(d._trace){for(var M=d._trace.stack.split(`
`),Z=Y(M),te=Z.length-1;te>=0;--te){var ae=Z[te];if(!a.test(ae)){var oe=ae.match(i);oe&&(P="at "+oe[1]+":"+oe[2]+":"+oe[3]+" ");break}}if(Z.length>0){for(var Bt=Z[0],te=0;te<M.length;++te)if(M[te]===Bt){te>0&&(K=`
`+M[te-1]);break}}}var Nt="a promise was created in a "+R+"handler "+P+"but was not returned from it, see http://goo.gl/rRqMUw"+K;S._warn(Nt,!0,d)}}function g(c,d){var R=c+" is deprecated and will be removed in a future version.";return d&&(R+=" Use "+d+" instead."),V(R)}function V(c,d,R){if(ee.warnings){var S=new y(c),B;if(d)R._attachExtraTrace(S);else if(ee.longStackTraces&&(B=e._peekContext()))B.attachExtraTrace(S);else{var P=ie(S);S.stack=P.message+`
`+P.stack.join(`
`)}L("warning",S)||ce(S,"",!0)}}function $(c,d){for(var R=0;R<d.length-1;++R)d[R].push("From previous event:"),d[R]=d[R].join(`
`);return R<d.length&&(d[R]=d[R].join(`
`)),c+`
`+d.join(`
`)}function N(c){for(var d=0;d<c.length;++d)(c[d].length===0||d+1<c.length&&c[d][0]===c[d+1][0])&&(c.splice(d,1),d--)}function H(c){for(var d=c[0],R=1;R<c.length;++R){for(var S=c[R],B=d.length-1,P=d[B],K=-1,M=S.length-1;M>=0;--M)if(S[M]===P){K=M;break}for(var M=K;M>=0;--M){var Z=S[M];if(d[B]===Z)d.pop(),B--;else break}d=S}}function Y(c){for(var d=[],R=0;R<c.length;++R){var S=c[R],B=S==="    (No stack trace)"||f.test(S),P=B&&ge(S);B&&!P&&(r&&S.charAt(0)!==" "&&(S="    "+S),d.push(S))}return d}function ne(c){for(var d=c.stack.replace(/\s+$/g,"").split(`
`),R=0;R<d.length;++R){var S=d[R];if(S==="    (No stack trace)"||f.test(S))break}return R>0&&c.name!="SyntaxError"&&(d=d.slice(R)),d}function ie(c){var d=c.stack,R=c.toString();return d=typeof d=="string"&&d.length>0?ne(c):["    (No stack trace)"],{message:R,stack:c.name=="SyntaxError"?d:Y(d)}}function ce(c,d,R){if(typeof console<"u"){var S;if(_.isObject(c)){var B=c.stack;S=d+h(B,c)}else S=d+String(c);typeof l=="function"?l(S,R):(typeof console.log=="function"||typeof console.log=="object")&&console.log(S)}}function ue(c,d,R,S){var B=!1;try{typeof d=="function"&&(B=!0,c==="rejectionHandled"?d(S):d(R,S))}catch(P){o.throwLater(P)}c==="unhandledRejection"?!L(c,R,S)&&!B&&ce(R,"Unhandled rejection "):L(c,S)}function fe(c){var d;if(typeof c=="function")d="[function "+(c.name||"anonymous")+"]";else{d=c&&typeof c.toString=="function"?c.toString():_.toString(c);var R=/\[object [a-zA-Z0-9$_]+\]/;if(R.test(d))try{var S=JSON.stringify(c);d=S}catch{}d.length===0&&(d="(empty array)")}return"(<"+Ze(d)+">, no stack trace)"}function Ze(c){var d=41;return c.length<d?c:c.substr(0,d-3)+"..."}function ye(){return typeof Pe=="function"}var ge=function(){return!1},Vt=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;function me(c){var d=c.match(Vt);if(d)return{fileName:d[1],line:parseInt(d[2],10)}}function Ht(c,d){if(ye()){for(var R=c.stack.split(`
`),S=d.stack.split(`
`),B=-1,P=-1,K,M,Z=0;Z<R.length;++Z){var te=me(R[Z]);if(te){K=te.fileName,B=te.line;break}}for(var Z=0;Z<S.length;++Z){var te=me(S[Z]);if(te){M=te.fileName,P=te.line;break}}B<0||P<0||!K||!M||K!==M||B>=P||(ge=function(ae){if(s.test(ae))return!0;var oe=me(ae);return!!(oe&&oe.fileName===K&&B<=oe.line&&oe.line<=P)})}}function le(c){this._parent=c,this._promisesCreated=0;var d=this._length=1+(c===void 0?0:c._length);Pe(this,le),d>32&&this.uncycle()}_.inherits(le,Error),w.CapturedTrace=le,le.prototype.uncycle=function(){var c=this._length;if(!(c<2)){for(var d=[],R={},S=0,B=this;B!==void 0;++S)d.push(B),B=B._parent;c=this._length=S;for(var S=c-1;S>=0;--S){var P=d[S].stack;R[P]===void 0&&(R[P]=S)}for(var S=0;S<c;++S){var K=d[S].stack,M=R[K];if(M!==void 0&&M!==S){M>0&&(d[M-1]._parent=void 0,d[M-1]._length=1),d[S]._parent=void 0,d[S]._length=1;var Z=S>0?d[S-1]:this;M<c-1?(Z._parent=d[M+1],Z._parent.uncycle(),Z._length=Z._parent._length+1):(Z._parent=void 0,Z._length=1);for(var te=Z._length+1,ae=S-2;ae>=0;--ae)d[ae]._length=te,te++;return}}}},le.prototype.attachExtraTrace=function(c){if(!c.__stackCleaned__){this.uncycle();for(var d=ie(c),R=d.message,S=[d.stack],B=this;B!==void 0;)S.push(Y(B.stack.split(`
`))),B=B._parent;H(S),N(S),_.notEnumerableProp(c,"stack",$(R,S)),_.notEnumerableProp(c,"__stackCleaned__",!0)}};var Pe=function(){var d=/^\s*at\s*/,R=function(K,M){return typeof K=="string"?K:M.name!==void 0&&M.message!==void 0?M.toString():fe(M)};if(typeof Error.stackTraceLimit=="number"&&typeof Error.captureStackTrace=="function"){Error.stackTraceLimit+=6,f=d,h=R;var S=Error.captureStackTrace;return ge=function(K){return s.test(K)},function(K,M){Error.stackTraceLimit+=6,S(K,M),Error.stackTraceLimit-=6}}var B=new Error;if(typeof B.stack=="string"&&B.stack.split(`
`)[0].indexOf("stackDetection@")>=0)return f=/@/,h=R,r=!0,function(M){M.stack=new Error().stack};var P;try{throw new Error}catch(K){P="stack"in K}return!("stack"in B)&&P&&typeof Error.stackTraceLimit=="number"?(f=d,h=R,function(M){Error.stackTraceLimit+=6;try{throw new Error}catch(Z){M.stack=Z.stack}Error.stackTraceLimit-=6}):(h=function(K,M){return typeof K=="string"?K:(typeof M=="object"||typeof M=="function")&&M.name!==void 0&&M.message!==void 0?M.toString():fe(M)},null)}();typeof console<"u"&&typeof console.warn<"u"&&(l=function(c){console.warn(c)},_.isNode&&process.stderr.isTTY?l=function(c,d){var R=d?"\x1B[33m":"\x1B[31m";console.warn(R+c+`\x1B[0m
`)}:!_.isNode&&typeof new Error().stack=="string"&&(l=function(c,d){console.warn("%c"+c,d?"color: darkorange":"color: red")}));var ee={warnings:b,longStackTraces:!1,cancellation:!1,monitoring:!1};return k&&e.longStackTraces(),{longStackTraces:function(){return ee.longStackTraces},warnings:function(){return ee.warnings},cancellation:function(){return ee.cancellation},monitoring:function(){return ee.monitoring},propagateFromFunction:function(){return T},boundValueFunction:function(){return j},checkForgottenReturns:Q,setBounds:Ht,warn:V,deprecated:g,CapturedTrace:le,fireDomEvent:q,fireGlobalEvent:z}}),Re}var je,ct;function $t(){return ct||(ct=1,je=function(e,w){var E=J(),o=e.CancellationError,y=E.errorObj;function _(i,f,h){this.promise=i,this.type=f,this.handler=h,this.called=!1,this.cancelPromise=null}_.prototype.isFinallyHandler=function(){return this.type===0};function m(i){this.finallyHandler=i}m.prototype._resultCancelled=function(){u(this.finallyHandler)};function u(i,f){return i.cancelPromise!=null?(arguments.length>1?i.cancelPromise._reject(f):i.cancelPromise._cancel(),i.cancelPromise=null,!0):!1}function t(){return a.call(this,this.promise._target()._settledValue())}function s(i){if(!u(this,i))return y.e=i,y}function a(i){var f=this.promise,h=this.handler;if(!this.called){this.called=!0;var r=this.isFinallyHandler()?h.call(f._boundValue()):h.call(f._boundValue(),i);if(r!==void 0){f._setReturnedNonUndefined();var l=w(r,f);if(l instanceof e){if(this.cancelPromise!=null)if(l._isCancelled()){var p=new o("late cancellation observer");return f._attachExtraTrace(p),y.e=p,y}else l.isPending()&&l._attachCancellationCallback(new m(this));return l._then(t,s,void 0,this,void 0)}}}return f.isRejected()?(u(this),y.e=i,y):(u(this),i)}return e.prototype._passThrough=function(i,f,h,r){return typeof i!="function"?this.then():this._then(h,r,void 0,new _(this,f,i),void 0)},e.prototype.lastly=e.prototype.finally=function(i){return this._passThrough(i,0,a,a)},e.prototype.tap=function(i){return this._passThrough(i,1,a)},_}),je}var Se,ft;function Xt(){return ft||(ft=1,Se=function(e){var w=J(),E=he().keys,o=w.tryCatch,y=w.errorObj;function _(m,u,t){return function(s){var a=t._boundValue();e:for(var i=0;i<m.length;++i){var f=m[i];if(f===Error||f!=null&&f.prototype instanceof Error){if(s instanceof f)return o(u).call(a,s)}else if(typeof f=="function"){var h=o(f).call(a,s);if(h===y)return h;if(h)return o(u).call(a,s)}else if(w.isObject(s)){for(var r=E(f),l=0;l<r.length;++l){var p=r[l];if(f[p]!=s[p])continue e}return o(u).call(a,s)}}return e}}return _}),Se}var Ae,ht;function It(){if(ht)return Ae;ht=1;var e=J(),w=e.maybeWrapAsError,E=se(),o=E.OperationalError,y=he();function _(s){return s instanceof Error&&y.getPrototypeOf(s)===Error.prototype}var m=/^(?:name|message|stack|cause)$/;function u(s){var a;if(_(s)){a=new o(s),a.name=s.name,a.message=s.message,a.stack=s.stack;for(var i=y.keys(s),f=0;f<i.length;++f){var h=i[f];m.test(h)||(a[h]=s[h])}return a}return e.markAsOriginatingFromRejection(s),s}function t(s,a){return function(i,f){if(s!==null){if(i){var h=u(w(i));s._attachExtraTrace(h),s._reject(h)}else if(!a)s._fulfill(f);else{for(var r=arguments.length,l=new Array(Math.max(r-1,0)),p=1;p<r;++p)l[p-1]=arguments[p];s._fulfill(l)}s=null}}}return Ae=t,Ae}var Oe,pt;function Kt(){return pt||(pt=1,Oe=function(e,w,E,o,y){var _=J(),m=_.tryCatch;e.method=function(u){if(typeof u!="function")throw new e.TypeError("expecting a function but got "+_.classString(u));return function(){var t=new e(w);t._captureStackTrace(),t._pushContext();var s=m(u).apply(this,arguments),a=t._popContext();return y.checkForgottenReturns(s,a,"Promise.method",t),t._resolveFromSyncValue(s),t}},e.attempt=e.try=function(u){if(typeof u!="function")return o("expecting a function but got "+_.classString(u));var t=new e(w);t._captureStackTrace(),t._pushContext();var s;if(arguments.length>1){y.deprecated("calling Promise.try with more than 1 argument");var a=arguments[1],i=arguments[2];s=_.isArray(a)?m(u).apply(i,a):m(u).call(i,a)}else s=m(u)();var f=t._popContext();return y.checkForgottenReturns(s,f,"Promise.try",t),t._resolveFromSyncValue(s),t},e.prototype._resolveFromSyncValue=function(u){u===_.errorObj?this._rejectCallback(u.e,!1):this._resolveCallback(u,!0)}}),Oe}var xe,dt;function Jt(){return dt||(dt=1,xe=function(e,w,E,o){var y=!1,_=function(s,a){this._reject(a)},m=function(s,a){a.promiseRejectionQueued=!0,a.bindingPromise._then(_,_,null,this,s)},u=function(s,a){(this._bitField&50397184)===0&&this._resolveCallback(a.target)},t=function(s,a){a.promiseRejectionQueued||this._reject(s)};e.prototype.bind=function(s){y||(y=!0,e.prototype._propagateFrom=o.propagateFromFunction(),e.prototype._boundValue=o.boundValueFunction());var a=E(s),i=new e(w);i._propagateFrom(this,1);var f=this._target();if(i._setBoundTo(a),a instanceof e){var h={promiseRejectionQueued:!1,promise:i,target:f,bindingPromise:a};f._then(w,m,void 0,i,h),a._then(u,t,void 0,i,h),i._setOnCancel(a)}else i._resolveCallback(f);return i},e.prototype._setBoundTo=function(s){s!==void 0?(this._bitField=this._bitField|2097152,this._boundTo=s):this._bitField=this._bitField&-2097153},e.prototype._isBound=function(){return(this._bitField&2097152)===2097152},e.bind=function(s,a){return e.resolve(a).bind(s)}}),xe}var qe,_t;function Yt(){return _t||(_t=1,qe=function(e,w,E,o){var y=J(),_=y.tryCatch,m=y.errorObj,u=e._async;e.prototype.break=e.prototype.cancel=function(){if(!o.cancellation())return this._warn("cancellation is disabled");for(var t=this,s=t;t._isCancellable();){if(!t._cancelBy(s)){s._isFollowing()?s._followee().cancel():s._cancelBranched();break}var a=t._cancellationParent;if(a==null||!a._isCancellable()){t._isFollowing()?t._followee().cancel():t._cancelBranched();break}else t._isFollowing()&&t._followee().cancel(),t._setWillBeCancelled(),s=t,t=a}},e.prototype._branchHasCancelled=function(){this._branchesRemainingToCancel--},e.prototype._enoughBranchesHaveCancelled=function(){return this._branchesRemainingToCancel===void 0||this._branchesRemainingToCancel<=0},e.prototype._cancelBy=function(t){return t===this?(this._branchesRemainingToCancel=0,this._invokeOnCancel(),!0):(this._branchHasCancelled(),this._enoughBranchesHaveCancelled()?(this._invokeOnCancel(),!0):!1)},e.prototype._cancelBranched=function(){this._enoughBranchesHaveCancelled()&&this._cancel()},e.prototype._cancel=function(){this._isCancellable()&&(this._setCancelled(),u.invoke(this._cancelPromises,this,void 0))},e.prototype._cancelPromises=function(){this._length()>0&&this._settlePromises()},e.prototype._unsetOnCancel=function(){this._onCancelField=void 0},e.prototype._isCancellable=function(){return this.isPending()&&!this._isCancelled()},e.prototype.isCancellable=function(){return this.isPending()&&!this.isCancelled()},e.prototype._doInvokeOnCancel=function(t,s){if(y.isArray(t))for(var a=0;a<t.length;++a)this._doInvokeOnCancel(t[a],s);else if(t!==void 0)if(typeof t=="function"){if(!s){var i=_(t).call(this._boundValue());i===m&&(this._attachExtraTrace(i.e),u.throwLater(i.e))}}else t._resultCancelled(this)},e.prototype._invokeOnCancel=function(){var t=this._onCancel();this._unsetOnCancel(),u.invoke(this._doInvokeOnCancel,this,t)},e.prototype._invokeInternalOnCancel=function(){this._isCancellable()&&(this._doInvokeOnCancel(this._onCancel(),!0),this._unsetOnCancel())},e.prototype._resultCancelled=function(){this.cancel()}}),qe}var De,vt;function Zt(){return vt||(vt=1,De=function(e){function w(){return this.value}function E(){throw this.reason}e.prototype.return=e.prototype.thenReturn=function(o){return o instanceof e&&o.suppressUnhandledRejections(),this._then(w,void 0,void 0,{value:o},void 0)},e.prototype.throw=e.prototype.thenThrow=function(o){return this._then(E,void 0,void 0,{reason:o},void 0)},e.prototype.catchThrow=function(o){if(arguments.length<=1)return this._then(void 0,E,void 0,{reason:o},void 0);var y=arguments[1],_=function(){throw y};return this.caught(o,_)},e.prototype.catchReturn=function(o){if(arguments.length<=1)return o instanceof e&&o.suppressUnhandledRejections(),this._then(void 0,w,void 0,{value:o},void 0);var y=arguments[1];y instanceof e&&y.suppressUnhandledRejections();var _=function(){return y};return this.caught(o,_)}}),De}var Ie,yt;function Pt(){return yt||(yt=1,Ie=function(e){function w(t){t!==void 0?(t=t._target(),this._bitField=t._bitField,this._settledValueField=t._isFateSealed()?t._settledValue():void 0):(this._bitField=0,this._settledValueField=void 0)}w.prototype._settledValue=function(){return this._settledValueField};var E=w.prototype.value=function(){if(!this.isFulfilled())throw new TypeError(`cannot get fulfillment value of a non-fulfilled promise

    See http://goo.gl/MqrFmX
`);return this._settledValue()},o=w.prototype.error=w.prototype.reason=function(){if(!this.isRejected())throw new TypeError(`cannot get rejection reason of a non-rejected promise

    See http://goo.gl/MqrFmX
`);return this._settledValue()},y=w.prototype.isFulfilled=function(){return(this._bitField&33554432)!==0},_=w.prototype.isRejected=function(){return(this._bitField&16777216)!==0},m=w.prototype.isPending=function(){return(this._bitField&50397184)===0},u=w.prototype.isResolved=function(){return(this._bitField&50331648)!==0};w.prototype.isCancelled=function(){return(this._bitField&8454144)!==0},e.prototype.__isCancelled=function(){return(this._bitField&65536)===65536},e.prototype._isCancelled=function(){return this._target().__isCancelled()},e.prototype.isCancelled=function(){return(this._target()._bitField&8454144)!==0},e.prototype.isPending=function(){return m.call(this._target())},e.prototype.isRejected=function(){return _.call(this._target())},e.prototype.isFulfilled=function(){return y.call(this._target())},e.prototype.isResolved=function(){return u.call(this._target())},e.prototype.value=function(){return E.call(this._target())},e.prototype.reason=function(){var t=this._target();return t._unsetRejectionIsUnhandled(),o.call(t)},e.prototype._value=function(){return this._settledValue()},e.prototype._reason=function(){return this._unsetRejectionIsUnhandled(),this._settledValue()},e.PromiseInspection=w}),Ie}var Ve,gt;function er(){return gt||(gt=1,Ve=function(e,w,E,o,y,_){var m=J(),u=m.canEvaluate,t=m.tryCatch,s=m.errorObj,a;if(u){for(var i=function(k){return new Function("value","holder",`                             
	            'use strict';                                                    
	            holder.pIndex = value;                                           
	            holder.checkFulfillment(this);                                   
	            `.replace(/Index/g,k))},f=function(k){return new Function("promise","holder",`                           
	            'use strict';                                                    
	            holder.pIndex = promise;                                         
	            `.replace(/Index/g,k))},h=function(k){for(var F=new Array(k),x=0;x<F.length;++x)F[x]="this.p"+(x+1);var q=F.join(" = ")+" = null;",z=`var promise;
`+F.map(function(X){return`                                                         
	                promise = `+X+`;                                      
	                if (promise instanceof Promise) {                            
	                    promise.cancel();                                        
	                }                                                            
	            `}).join(`
`),W=F.join(", "),U="Holder$"+k,L=`return function(tryCatch, errorObj, Promise, async) {    
	            'use strict';                                                    
	            function [TheName](fn) {                                         
	                [TheProperties]                                              
	                this.fn = fn;                                                
	                this.asyncNeeded = true;                                     
	                this.now = 0;                                                
	            }                                                                
	                                                                             
	            [TheName].prototype._callFunction = function(promise) {          
	                promise._pushContext();                                      
	                var ret = tryCatch(this.fn)([ThePassedArguments]);           
	                promise._popContext();                                       
	                if (ret === errorObj) {                                      
	                    promise._rejectCallback(ret.e, false);                   
	                } else {                                                     
	                    promise._resolveCallback(ret);                           
	                }                                                            
	            };                                                               
	                                                                             
	            [TheName].prototype.checkFulfillment = function(promise) {       
	                var now = ++this.now;                                        
	                if (now === [TheTotal]) {                                    
	                    if (this.asyncNeeded) {                                  
	                        async.invoke(this._callFunction, this, promise);     
	                    } else {                                                 
	                        this._callFunction(promise);                         
	                    }                                                        
	                                                                             
	                }                                                            
	            };                                                               
	                                                                             
	            [TheName].prototype._resultCancelled = function() {              
	                [CancellationCode]                                           
	            };                                                               
	                                                                             
	            return [TheName];                                                
	        }(tryCatch, errorObj, Promise, async);                               
	        `;return L=L.replace(/\[TheName\]/g,U).replace(/\[TheTotal\]/g,k).replace(/\[ThePassedArguments\]/g,W).replace(/\[TheProperties\]/g,q).replace(/\[CancellationCode\]/g,z),new Function("tryCatch","errorObj","Promise","async",L)(t,s,e,y)},r=[],l=[],p=[],b=0;b<8;++b)r.push(h(b+1)),l.push(i(b+1)),p.push(f(b+1));a=function(k){this._reject(k)}}e.join=function(){var k=arguments.length-1,F;if(k>0&&typeof arguments[k]=="function"&&(F=arguments[k],k<=8&&u)){var D=new e(o);D._captureStackTrace();for(var x=r[k-1],q=new x(F),z=l,W=0;W<k;++W){var U=E(arguments[W],D);if(U instanceof e){U=U._target();var L=U._bitField;(L&50397184)===0?(U._then(z[W],a,void 0,D,q),p[W](U,q),q.asyncNeeded=!1):(L&33554432)!==0?z[W].call(D,U._value(),q):(L&16777216)!==0?D._reject(U._reason()):D._cancel()}else z[W].call(D,U,q)}if(!D._isFateSealed()){if(q.asyncNeeded){var X=_();X!==null&&(q.fn=m.domainBind(X,q.fn))}D._setAsyncGuaranteed(),D._setOnCancel(q)}return D}for(var re=arguments.length,v=new Array(re),O=0;O<re;++O)v[O]=arguments[O];F&&v.pop();var D=new w(v).promise();return F!==void 0?D.spread(F):D}}),Ve}var He,mt;function tr(){return mt||(mt=1,He=function(e,w,E,o,y,_){var m=e._getDomain,u=J(),t=u.tryCatch,s=u.errorObj,a=e._async;function i(h,r,l,p){this.constructor$(h),this._promise._captureStackTrace();var b=m();this._callback=b===null?r:u.domainBind(b,r),this._preservedValues=p===y?new Array(this.length()):null,this._limit=l,this._inFlight=0,this._queue=[],a.invoke(this._asyncInit,this,void 0)}u.inherits(i,w),i.prototype._asyncInit=function(){this._init$(void 0,-2)},i.prototype._init=function(){},i.prototype._promiseFulfilled=function(h,r){var l=this._values,p=this.length(),b=this._preservedValues,k=this._limit;if(r<0){if(r=r*-1-1,l[r]=h,k>=1&&(this._inFlight--,this._drainQueue(),this._isResolved()))return!0}else{if(k>=1&&this._inFlight>=k)return l[r]=h,this._queue.push(r),!1;b!==null&&(b[r]=h);var F=this._promise,x=this._callback,q=F._boundValue();F._pushContext();var z=t(x).call(q,h,r,p),W=F._popContext();if(_.checkForgottenReturns(z,W,b!==null?"Promise.filter":"Promise.map",F),z===s)return this._reject(z.e),!0;var U=o(z,this._promise);if(U instanceof e){U=U._target();var L=U._bitField;if((L&50397184)===0)return k>=1&&this._inFlight++,l[r]=U,U._proxy(this,(r+1)*-1),!1;if((L&33554432)!==0)z=U._value();else return(L&16777216)!==0?(this._reject(U._reason()),!0):(this._cancel(),!0)}l[r]=z}var X=++this._totalResolved;return X>=p?(b!==null?this._filter(l,b):this._resolve(l),!0):!1},i.prototype._drainQueue=function(){for(var h=this._queue,r=this._limit,l=this._values;h.length>0&&this._inFlight<r;){if(this._isResolved())return;var p=h.pop();this._promiseFulfilled(l[p],p)}},i.prototype._filter=function(h,r){for(var l=r.length,p=new Array(l),b=0,k=0;k<l;++k)h[k]&&(p[b++]=r[k]);p.length=b,this._resolve(p)},i.prototype.preservedValues=function(){return this._preservedValues};function f(h,r,l,p){if(typeof r!="function")return E("expecting a function but got "+u.classString(r));var b=0;if(l!==void 0)if(typeof l=="object"&&l!==null){if(typeof l.concurrency!="number")return e.reject(new TypeError("'concurrency' must be a number but it is "+u.classString(l.concurrency)));b=l.concurrency}else return e.reject(new TypeError("options argument must be an object but it is "+u.classString(l)));return b=typeof b=="number"&&isFinite(b)&&b>=1?b:0,new i(h,r,b,p).promise()}e.prototype.map=function(h,r){return f(this,h,r,null)},e.map=function(h,r,l,p){return f(h,r,l,p)}}),He}var Be,bt;function rr(){if(bt)return Be;bt=1;var e=Object.create;if(e){var w=e(null),E=e(null);w[" size"]=E[" size"]=0}return Be=function(o){var y=J(),_=y.canEvaluate,m=y.isIdentifier,u,t;{var s=function(p){return new Function("ensureMethod",`                                    
	        return function(obj) {                                               
	            'use strict'                                                     
	            var len = this.length;                                           
	            ensureMethod(obj, 'methodName');                                 
	            switch(len) {                                                    
	                case 1: return obj.methodName(this[0]);                      
	                case 2: return obj.methodName(this[0], this[1]);             
	                case 3: return obj.methodName(this[0], this[1], this[2]);    
	                case 0: return obj.methodName();                             
	                default:                                                     
	                    return obj.methodName.apply(obj, this);                  
	            }                                                                
	        };                                                                   
	        `.replace(/methodName/g,p))(f)},a=function(p){return new Function("obj",`                                             
	        'use strict';                                                        
	        return obj.propertyName;                                             
	        `.replace("propertyName",p))},i=function(p,b,k){var F=k[p];if(typeof F!="function"){if(!m(p))return null;if(F=b(p),k[p]=F,k[" size"]++,k[" size"]>512){for(var x=Object.keys(k),q=0;q<256;++q)delete k[x[q]];k[" size"]=x.length-256}}return F};u=function(p){return i(p,s,w)},t=function(p){return i(p,a,E)}}function f(p,b){var k;if(p!=null&&(k=p[b]),typeof k!="function"){var F="Object "+y.classString(p)+" has no method '"+y.toString(b)+"'";throw new o.TypeError(F)}return k}function h(p){var b=this.pop(),k=f(p,b);return k.apply(p,this)}o.prototype.call=function(p){for(var b=arguments.length,k=new Array(Math.max(b-1,0)),F=1;F<b;++F)k[F-1]=arguments[F];if(_){var x=u(p);if(x!==null)return this._then(x,void 0,void 0,k,void 0)}return k.push(p),this._then(h,void 0,void 0,k,void 0)};function r(p){return p[this]}function l(p){var b=+this;return b<0&&(b=Math.max(0,b+p.length)),p[b]}o.prototype.get=function(p){var b=typeof p=="number",k;if(b)k=l;else if(_){var F=t(p);k=F!==null?F:r}else k=r;return this._then(k,void 0,void 0,p,void 0)}},Be}var Ne,Ct;function nr(){return Ct||(Ct=1,Ne=function(e,w,E,o,y,_){var m=J(),u=se().TypeError,t=J().inherits,s=m.errorObj,a=m.tryCatch,i={};function f(F){setTimeout(function(){throw F},0)}function h(F){var x=E(F);return x!==F&&typeof F._isDisposable=="function"&&typeof F._getDisposer=="function"&&F._isDisposable()&&x._setDisposable(F._getDisposer()),x}function r(F,x){var q=0,z=F.length,W=new e(y);function U(){if(q>=z)return W._fulfill();var L=h(F[q++]);if(L instanceof e&&L._isDisposable()){try{L=E(L._getDisposer().tryDispose(x),F.promise)}catch(X){return f(X)}if(L instanceof e)return L._then(U,f,null,null,null)}U()}return U(),W}function l(F,x,q){this._data=F,this._promise=x,this._context=q}l.prototype.data=function(){return this._data},l.prototype.promise=function(){return this._promise},l.prototype.resource=function(){return this.promise().isFulfilled()?this.promise().value():i},l.prototype.tryDispose=function(F){var x=this.resource(),q=this._context;q!==void 0&&q._pushContext();var z=x!==i?this.doDispose(x,F):null;return q!==void 0&&q._popContext(),this._promise._unsetDisposable(),this._data=null,z},l.isDisposer=function(F){return F!=null&&typeof F.resource=="function"&&typeof F.tryDispose=="function"};function p(F,x,q){this.constructor$(F,x,q)}t(p,l),p.prototype.doDispose=function(F,x){var q=this.data();return q.call(F,F,x)};function b(F){return l.isDisposer(F)?(this.resources[this.index]._setDisposable(F),F.promise()):F}function k(F){this.length=F,this.promise=null,this[F-1]=null}k.prototype._resultCancelled=function(){for(var F=this.length,x=0;x<F;++x){var q=this[x];q instanceof e&&q.cancel()}},e.using=function(){var F=arguments.length;if(F<2)return w("you must pass at least 2 arguments to Promise.using");var x=arguments[F-1];if(typeof x!="function")return w("expecting a function but got "+m.classString(x));var q,z=!0;F===2&&Array.isArray(arguments[0])?(q=arguments[0],F=q.length,z=!1):(q=arguments,F--);for(var W=new k(F),U=0;U<F;++U){var L=q[U];if(l.isDisposer(L)){var X=L;L=L.promise(),L._setDisposable(X)}else{var re=E(L);re instanceof e&&(L=re._then(b,null,null,{resources:W,index:U},void 0))}W[U]=L}for(var v=new Array(W.length),U=0;U<v.length;++U)v[U]=e.resolve(W[U]).reflect();var O=e.all(v).then(function(G){for(var n=0;n<G.length;++n){var C=G[n];if(C.isRejected())return s.e=C.error(),s;if(!C.isFulfilled()){O.cancel();return}G[n]=C.value()}D._pushContext(),x=a(x);var T=z?x.apply(void 0,G):x(G),j=D._popContext();return _.checkForgottenReturns(T,j,"Promise.using",D),T}),D=O.lastly(function(){var G=new e.PromiseInspection(O);return r(W,G)});return W.promise=D,D._setOnCancel(W),D},e.prototype._setDisposable=function(F){this._bitField=this._bitField|131072,this._disposer=F},e.prototype._isDisposable=function(){return(this._bitField&131072)>0},e.prototype._getDisposer=function(){return this._disposer},e.prototype._unsetDisposable=function(){this._bitField=this._bitField&-131073,this._disposer=void 0},e.prototype.disposer=function(F){if(typeof F=="function")return new p(F,this,o());throw new u}}),Ne}var Ue,wt;function ir(){return wt||(wt=1,Ue=function(e,w,E){var o=J(),y=e.TimeoutError;function _(i){this.handle=i}_.prototype._resultCancelled=function(){clearTimeout(this.handle)};var m=function(i){return u(+this).thenReturn(i)},u=e.delay=function(i,f){var h,r;return f!==void 0?(h=e.resolve(f)._then(m,null,null,i,void 0),E.cancellation()&&f instanceof e&&h._setOnCancel(f)):(h=new e(w),r=setTimeout(function(){h._fulfill()},+i),E.cancellation()&&h._setOnCancel(new _(r)),h._captureStackTrace()),h._setAsyncGuaranteed(),h};e.prototype.delay=function(i){return u(i,this)};var t=function(i,f,h){var r;typeof f!="string"?f instanceof Error?r=f:r=new y("operation timed out"):r=new y(f),o.markAsOriginatingFromRejection(r),i._attachExtraTrace(r),i._reject(r),h?.cancel()};function s(i){return clearTimeout(this.handle),i}function a(i){throw clearTimeout(this.handle),i}e.prototype.timeout=function(i,f){i=+i;var h,r,l=new _(setTimeout(function(){h.isPending()&&t(h,f,r)},i));return E.cancellation()?(r=this.then(),h=r._then(s,a,void 0,l,void 0),h._setOnCancel(l)):h=this._then(s,a,void 0,l,void 0),h}}),Ue}var Me,Et;function ar(){return Et||(Et=1,Me=function(e,w,E,o,y,_){var m=se(),u=m.TypeError,t=J(),s=t.errorObj,a=t.tryCatch,i=[];function f(r,l,p){for(var b=0;b<l.length;++b){p._pushContext();var k=a(l[b])(r);if(p._popContext(),k===s){p._pushContext();var F=e.reject(s.e);return p._popContext(),F}var x=o(k,p);if(x instanceof e)return x}return null}function h(r,l,p,b){if(_.cancellation()){var k=new e(E),F=this._finallyPromise=new e(E);this._promise=k.lastly(function(){return F}),k._captureStackTrace(),k._setOnCancel(this)}else{var x=this._promise=new e(E);x._captureStackTrace()}this._stack=b,this._generatorFunction=r,this._receiver=l,this._generator=void 0,this._yieldHandlers=typeof p=="function"?[p].concat(i):i,this._yieldedPromise=null,this._cancellationPhase=!1}t.inherits(h,y),h.prototype._isResolved=function(){return this._promise===null},h.prototype._cleanup=function(){this._promise=this._generator=null,_.cancellation()&&this._finallyPromise!==null&&(this._finallyPromise._fulfill(),this._finallyPromise=null)},h.prototype._promiseCancelled=function(){if(!this._isResolved()){var r=typeof this._generator.return<"u",l;if(r)this._promise._pushContext(),l=a(this._generator.return).call(this._generator,void 0),this._promise._popContext();else{var p=new e.CancellationError("generator .return() sentinel");e.coroutine.returnSentinel=p,this._promise._attachExtraTrace(p),this._promise._pushContext(),l=a(this._generator.throw).call(this._generator,p),this._promise._popContext()}this._cancellationPhase=!0,this._yieldedPromise=null,this._continue(l)}},h.prototype._promiseFulfilled=function(r){this._yieldedPromise=null,this._promise._pushContext();var l=a(this._generator.next).call(this._generator,r);this._promise._popContext(),this._continue(l)},h.prototype._promiseRejected=function(r){this._yieldedPromise=null,this._promise._attachExtraTrace(r),this._promise._pushContext();var l=a(this._generator.throw).call(this._generator,r);this._promise._popContext(),this._continue(l)},h.prototype._resultCancelled=function(){if(this._yieldedPromise instanceof e){var r=this._yieldedPromise;this._yieldedPromise=null,r.cancel()}},h.prototype.promise=function(){return this._promise},h.prototype._run=function(){this._generator=this._generatorFunction.call(this._receiver),this._receiver=this._generatorFunction=void 0,this._promiseFulfilled(void 0)},h.prototype._continue=function(r){var l=this._promise;if(r===s)return this._cleanup(),this._cancellationPhase?l.cancel():l._rejectCallback(r.e,!1);var p=r.value;if(r.done===!0)return this._cleanup(),this._cancellationPhase?l.cancel():l._resolveCallback(p);var b=o(p,this._promise);if(!(b instanceof e)&&(b=f(b,this._yieldHandlers,this._promise),b===null)){this._promiseRejected(new u(`A value %s was yielded that could not be treated as a promise

    See http://goo.gl/MqrFmX

`.replace("%s",p)+`From coroutine:
`+this._stack.split(`
`).slice(1,-7).join(`
`)));return}b=b._target();var k=b._bitField;(k&50397184)===0?(this._yieldedPromise=b,b._proxy(this,null)):(k&33554432)!==0?e._async.invoke(this._promiseFulfilled,this,b._value()):(k&16777216)!==0?e._async.invoke(this._promiseRejected,this,b._reason()):this._promiseCancelled()},e.coroutine=function(r,l){if(typeof r!="function")throw new u(`generatorFunction must be a function

    See http://goo.gl/MqrFmX
`);var p=Object(l).yieldHandler,b=h,k=new Error().stack;return function(){var F=r.apply(this,arguments),x=new b(void 0,void 0,p,k),q=x.promise();return x._generator=F,x._promiseFulfilled(void 0),q}},e.coroutine.addYieldHandler=function(r){if(typeof r!="function")throw new u("expecting a function but got "+t.classString(r));i.push(r)},e.spawn=function(r){if(_.deprecated("Promise.spawn()","Promise.coroutine()"),typeof r!="function")return w(`generatorFunction must be a function

    See http://goo.gl/MqrFmX
`);var l=new h(r,this),p=l.promise();return l._run(e.spawn),p}}),Me}var Le,Ft;function or(){return Ft||(Ft=1,Le=function(e){var w=J(),E=e._async,o=w.tryCatch,y=w.errorObj;function _(t,s){var a=this;if(!w.isArray(t))return m.call(a,t,s);var i=o(s).apply(a._boundValue(),[null].concat(t));i===y&&E.throwLater(i.e)}function m(t,s){var a=this,i=a._boundValue(),f=t===void 0?o(s).call(i,null):o(s).call(i,null,t);f===y&&E.throwLater(f.e)}function u(t,s){var a=this;if(!t){var i=new Error(t+"");i.cause=t,t=i}var f=o(s).call(a._boundValue(),t);f===y&&E.throwLater(f.e)}e.prototype.asCallback=e.prototype.nodeify=function(t,s){if(typeof t=="function"){var a=m;s!==void 0&&Object(s).spread&&(a=_),this._then(a,u,void 0,this,t)}return this}}),Le}var Ge,kt;function sr(){return kt||(kt=1,Ge=function(e,w){var E={},o=J(),y=It(),_=o.withAppended,m=o.maybeWrapAsError,u=o.canEvaluate,t=se().TypeError,s="Async",a={__isPromisified__:!0},i=["arity","length","name","arguments","caller","callee","prototype","__isPromisified__"],f=new RegExp("^(?:"+i.join("|")+")$"),h=function(O){return o.isIdentifier(O)&&O.charAt(0)!=="_"&&O!=="constructor"};function r(O){return!f.test(O)}function l(O){try{return O.__isPromisified__===!0}catch{return!1}}function p(O,D,G){var n=o.getDataPropertyOrDefault(O,D+G,a);return n?l(n):!1}function b(O,D,G){for(var n=0;n<O.length;n+=2){var C=O[n];if(G.test(C)){for(var T=C.replace(G,""),j=0;j<O.length;j+=2)if(O[j]===T)throw new t(`Cannot promisify an API that has normal methods with '%s'-suffix

    See http://goo.gl/MqrFmX
`.replace("%s",D))}}}function k(O,D,G,n){for(var C=o.inheritedDataKeys(O),T=[],j=0;j<C.length;++j){var A=C[j],I=O[A],Q=n===h?!0:h(A);typeof I=="function"&&!l(I)&&!p(O,A,D)&&n(A,I,O,Q)&&T.push(A,I)}return b(T,D,G),T}var F=function(O){return O.replace(/([$])/,"\\$")},x;{var q=function(O){for(var D=[O],G=Math.max(0,O-1-3),n=O-1;n>=G;--n)D.push(n);for(var n=O+1;n<=3;++n)D.push(n);return D},z=function(O){return o.filledRange(O,"_arg","")},W=function(O){return o.filledRange(Math.max(O,3),"_arg","")},U=function(O){return typeof O.length=="number"?Math.max(Math.min(O.length,1024),0):0};x=function(O,D,G,n,C,T){var j=Math.max(0,U(n)-1),A=q(j),I=typeof O=="string"||D===E;function Q(N){var H=z(N).join(", "),Y=N>0?", ":"",ne;return I?ne=`ret = callback.call(this, {{args}}, nodeback); break;
`:ne=D===void 0?`ret = callback({{args}}, nodeback); break;
`:`ret = callback.call(receiver, {{args}}, nodeback); break;
`,ne.replace("{{args}}",H).replace(", ",Y)}function g(){for(var N="",H=0;H<A.length;++H)N+="case "+A[H]+":"+Q(A[H]);return N+=`                                                             
	        default:                                                             
	            var args = new Array(len + 1);                                   
	            var i = 0;                                                       
	            for (var i = 0; i < len; ++i) {                                  
	               args[i] = arguments[i];                                       
	            }                                                                
	            args[i] = nodeback;                                              
	            [CodeForCall]                                                    
	            break;                                                           
	        `.replace("[CodeForCall]",I?`ret = callback.apply(this, args);
`:`ret = callback.apply(receiver, args);
`),N}var V=typeof O=="string"?"this != null ? this['"+O+"'] : fn":"fn",$=`'use strict';                                                
	        var ret = function (Parameters) {                                    
	            'use strict';                                                    
	            var len = arguments.length;                                      
	            var promise = new Promise(INTERNAL);                             
	            promise._captureStackTrace();                                    
	            var nodeback = nodebackForPromise(promise, `+T+`);   
	            var ret;                                                         
	            var callback = tryCatch([GetFunctionCode]);                      
	            switch(len) {                                                    
	                [CodeForSwitchCase]                                          
	            }                                                                
	            if (ret === errorObj) {                                          
	                promise._rejectCallback(maybeWrapAsError(ret.e), true, true);
	            }                                                                
	            if (!promise._isFateSealed()) promise._setAsyncGuaranteed();     
	            return promise;                                                  
	        };                                                                   
	        notEnumerableProp(ret, '__isPromisified__', true);                   
	        return ret;                                                          
	    `.replace("[CodeForSwitchCase]",g()).replace("[GetFunctionCode]",V);return $=$.replace("Parameters",W(j)),new Function("Promise","fn","receiver","withAppended","maybeWrapAsError","nodebackForPromise","tryCatch","errorObj","notEnumerableProp","INTERNAL",$)(e,n,D,_,m,y,o.tryCatch,o.errorObj,o.notEnumerableProp,w)}}function L(O,D,G,n,C,T){var j=function(){return this}(),A=O;typeof A=="string"&&(O=n);function I(){var Q=D;D===E&&(Q=this);var g=new e(w);g._captureStackTrace();var V=typeof A=="string"&&this!==j?this[A]:O,$=y(g,T);try{V.apply(Q,_(arguments,$))}catch(N){g._rejectCallback(m(N),!0,!0)}return g._isFateSealed()||g._setAsyncGuaranteed(),g}return o.notEnumerableProp(I,"__isPromisified__",!0),I}var X=u?x:L;function re(O,D,G,n,C){for(var T=new RegExp(F(D)+"$"),j=k(O,D,T,G),A=0,I=j.length;A<I;A+=2){var Q=j[A],g=j[A+1],V=Q+D;if(n===X)O[V]=X(Q,E,Q,g,D,C);else{var $=n(g,function(){return X(Q,E,Q,g,D,C)});o.notEnumerableProp($,"__isPromisified__",!0),O[V]=$}}return o.toFastProperties(O),O}function v(O,D,G){return X(O,D,void 0,O,null,G)}e.promisify=function(O,D){if(typeof O!="function")throw new t("expecting a function but got "+o.classString(O));if(l(O))return O;D=Object(D);var G=D.context===void 0?E:D.context,n=!!D.multiArgs,C=v(O,G,n);return o.copyDescriptors(O,C,r),C},e.promisifyAll=function(O,D){if(typeof O!="function"&&typeof O!="object")throw new t(`the target of promisifyAll must be an object or a function

    See http://goo.gl/MqrFmX
`);D=Object(D);var G=!!D.multiArgs,n=D.suffix;typeof n!="string"&&(n=s);var C=D.filter;typeof C!="function"&&(C=h);var T=D.promisifier;if(typeof T!="function"&&(T=X),!o.isIdentifier(n))throw new RangeError(`suffix must be a valid identifier

    See http://goo.gl/MqrFmX
`);for(var j=o.inheritedDataKeys(O),A=0;A<j.length;++A){var I=O[j[A]];j[A]!=="constructor"&&o.isClass(I)&&(re(I.prototype,n,C,T,G),re(I,n,C,T,G))}return re(O,n,C,T,G)}}),Ge}var Qe,Tt;function ur(){return Tt||(Tt=1,Qe=function(e,w,E,o){var y=J(),_=y.isObject,m=he(),u;typeof Map=="function"&&(u=Map);var t=function(){var f=0,h=0;function r(l,p){this[f]=l,this[f+h]=p,f++}return function(p){h=p.size,f=0;var b=new Array(p.size*2);return p.forEach(r,b),b}}(),s=function(f){for(var h=new u,r=f.length/2|0,l=0;l<r;++l){var p=f[r+l],b=f[l];h.set(p,b)}return h};function a(f){var h=!1,r;if(u!==void 0&&f instanceof u)r=t(f),h=!0;else{var l=m.keys(f),p=l.length;r=new Array(p*2);for(var b=0;b<p;++b){var k=l[b];r[b]=f[k],r[b+p]=k}}this.constructor$(r),this._isMap=h,this._init$(void 0,-3)}y.inherits(a,w),a.prototype._init=function(){},a.prototype._promiseFulfilled=function(f,h){this._values[h]=f;var r=++this._totalResolved;if(r>=this._length){var l;if(this._isMap)l=s(this._values);else{l={};for(var p=this.length(),b=0,k=this.length();b<k;++b)l[this._values[b+p]]=this._values[b]}return this._resolve(l),!0}return!1},a.prototype.shouldCopyValues=function(){return!1},a.prototype.getActualLength=function(f){return f>>1};function i(f){var h,r=E(f);if(_(r))r instanceof e?h=r._then(e.props,void 0,void 0,void 0,void 0):h=new a(r).promise();else return o(`cannot await properties of a non-object

    See http://goo.gl/MqrFmX
`);return r instanceof e&&h._propagateFrom(r,2),h}e.prototype.props=function(){return i(this)},e.props=function(f){return i(f)}}),Qe}var We,Rt;function lr(){return Rt||(Rt=1,We=function(e,w,E,o){var y=J(),_=function(u){return u.then(function(t){return m(t,u)})};function m(u,t){var s=E(u);if(s instanceof e)return _(s);if(u=y.asArray(u),u===null)return o("expecting an array or an iterable object but got "+y.classString(u));var a=new e(w);t!==void 0&&a._propagateFrom(t,3);for(var i=a._fulfill,f=a._reject,h=0,r=u.length;h<r;++h){var l=u[h];l===void 0&&!(h in u)||e.cast(l)._then(i,f,void 0,a,null)}return a}e.race=function(u){return m(u,void 0)},e.prototype.race=function(){return m(this,void 0)}}),We}var ze,jt;function cr(){return jt||(jt=1,ze=function(e,w,E,o,y,_){var m=e._getDomain,u=J(),t=u.tryCatch;function s(r,l,p,b){this.constructor$(r);var k=m();this._fn=k===null?l:u.domainBind(k,l),p!==void 0&&(p=e.resolve(p),p._attachCancellationCallback(this)),this._initialValue=p,this._currentCancellable=null,b===y?this._eachValues=Array(this._length):b===0?this._eachValues=null:this._eachValues=void 0,this._promise._captureStackTrace(),this._init$(void 0,-5)}u.inherits(s,w),s.prototype._gotAccum=function(r){this._eachValues!==void 0&&this._eachValues!==null&&r!==y&&this._eachValues.push(r)},s.prototype._eachComplete=function(r){return this._eachValues!==null&&this._eachValues.push(r),this._eachValues},s.prototype._init=function(){},s.prototype._resolveEmptyArray=function(){this._resolve(this._eachValues!==void 0?this._eachValues:this._initialValue)},s.prototype.shouldCopyValues=function(){return!1},s.prototype._resolve=function(r){this._promise._resolveCallback(r),this._values=null},s.prototype._resultCancelled=function(r){if(r===this._initialValue)return this._cancel();this._isResolved()||(this._resultCancelled$(),this._currentCancellable instanceof e&&this._currentCancellable.cancel(),this._initialValue instanceof e&&this._initialValue.cancel())},s.prototype._iterate=function(r){this._values=r;var l,p,b=r.length;if(this._initialValue!==void 0?(l=this._initialValue,p=0):(l=e.resolve(r[0]),p=1),this._currentCancellable=l,!l.isRejected())for(;p<b;++p){var k={accum:null,value:r[p],index:p,length:b,array:this};l=l._then(f,void 0,void 0,k,void 0)}this._eachValues!==void 0&&(l=l._then(this._eachComplete,void 0,void 0,this,void 0)),l._then(a,a,void 0,l,this)},e.prototype.reduce=function(r,l){return i(this,r,l,null)},e.reduce=function(r,l,p,b){return i(r,l,p,b)};function a(r,l){this.isFulfilled()?l._resolve(r):l._reject(r)}function i(r,l,p,b){if(typeof l!="function")return E("expecting a function but got "+u.classString(l));var k=new s(r,l,p,b);return k.promise()}function f(r){this.accum=r,this.array._gotAccum(r);var l=o(this.value,this.array._promise);return l instanceof e?(this.array._currentCancellable=l,l._then(h,void 0,void 0,this,void 0)):h.call(this,l)}function h(r){var l=this.array,p=l._promise,b=t(l._fn);p._pushContext();var k;l._eachValues!==void 0?k=b.call(p._boundValue(),r,this.index,this.length):k=b.call(p._boundValue(),this.accum,r,this.index,this.length),k instanceof e&&(l._currentCancellable=k);var F=p._popContext();return _.checkForgottenReturns(k,F,l._eachValues!==void 0?"Promise.each":"Promise.reduce",p),k}}),ze}var $e,St;function fr(){return St||(St=1,$e=function(e,w,E){var o=e.PromiseInspection,y=J();function _(m){this.constructor$(m)}y.inherits(_,w),_.prototype._promiseResolved=function(m,u){this._values[m]=u;var t=++this._totalResolved;return t>=this._length?(this._resolve(this._values),!0):!1},_.prototype._promiseFulfilled=function(m,u){var t=new o;return t._bitField=33554432,t._settledValueField=m,this._promiseResolved(u,t)},_.prototype._promiseRejected=function(m,u){var t=new o;return t._bitField=16777216,t._settledValueField=m,this._promiseResolved(u,t)},e.settle=function(m){return E.deprecated(".settle()",".reflect()"),new _(m).promise()},e.prototype.settle=function(){return e.settle(this)}}),$e}var Xe,At;function hr(){return At||(At=1,Xe=function(e,w,E){var o=J(),y=se().RangeError,_=se().AggregateError,m=o.isArray,u={};function t(a){this.constructor$(a),this._howMany=0,this._unwrap=!1,this._initialized=!1}o.inherits(t,w),t.prototype._init=function(){if(this._initialized){if(this._howMany===0){this._resolve([]);return}this._init$(void 0,-5);var a=m(this._values);!this._isResolved()&&a&&this._howMany>this._canPossiblyFulfill()&&this._reject(this._getRangeError(this.length()))}},t.prototype.init=function(){this._initialized=!0,this._init()},t.prototype.setUnwrap=function(){this._unwrap=!0},t.prototype.howMany=function(){return this._howMany},t.prototype.setHowMany=function(a){this._howMany=a},t.prototype._promiseFulfilled=function(a){return this._addFulfilled(a),this._fulfilled()===this.howMany()?(this._values.length=this.howMany(),this.howMany()===1&&this._unwrap?this._resolve(this._values[0]):this._resolve(this._values),!0):!1},t.prototype._promiseRejected=function(a){return this._addRejected(a),this._checkOutcome()},t.prototype._promiseCancelled=function(){return this._values instanceof e||this._values==null?this._cancel():(this._addRejected(u),this._checkOutcome())},t.prototype._checkOutcome=function(){if(this.howMany()>this._canPossiblyFulfill()){for(var a=new _,i=this.length();i<this._values.length;++i)this._values[i]!==u&&a.push(this._values[i]);return a.length>0?this._reject(a):this._cancel(),!0}return!1},t.prototype._fulfilled=function(){return this._totalResolved},t.prototype._rejected=function(){return this._values.length-this.length()},t.prototype._addRejected=function(a){this._values.push(a)},t.prototype._addFulfilled=function(a){this._values[this._totalResolved++]=a},t.prototype._canPossiblyFulfill=function(){return this.length()-this._rejected()},t.prototype._getRangeError=function(a){var i="Input array must contain at least "+this._howMany+" items but contains only "+a+" items";return new y(i)},t.prototype._resolveEmptyArray=function(){this._reject(this._getRangeError(0))};function s(a,i){if((i|0)!==i||i<0)return E(`expecting a positive integer

    See http://goo.gl/MqrFmX
`);var f=new t(a),h=f.promise();return f.setHowMany(i),f.init(),h}e.some=function(a,i){return s(a,i)},e.prototype.some=function(a){return s(this,a)},e._SomePromiseArray=t}),Xe}var Ke,Ot;function pr(){return Ot||(Ot=1,Ke=function(e,w){var E=e.map;e.prototype.filter=function(o,y){return E(this,o,y,w)},e.filter=function(o,y,_){return E(o,y,_,w)}}),Ke}var Je,xt;function dr(){return xt||(xt=1,Je=function(e,w){var E=e.reduce,o=e.all;function y(){return o(this)}function _(m,u){return E(m,u,w,w)}e.prototype.each=function(m){return E(this,m,w,0)._then(y,void 0,void 0,this,void 0)},e.prototype.mapSeries=function(m){return E(this,m,w,w)},e.each=function(m,u){return E(m,u,w,0)._then(y,void 0,void 0,m,void 0)},e.mapSeries=_}),Je}var Ye,qt;function _r(){return qt||(qt=1,Ye=function(e){var w=e._SomePromiseArray;function E(o){var y=new w(o),_=y.promise();return y.setHowMany(1),y.setUnwrap(),y.init(),_}e.any=function(o){return E(o)},e.prototype.any=function(){return E(this)}}),Ye}var Dt;function yr(){return Dt||(Dt=1,function(e){e.exports=function(){var w=function(){return new f(`circular promise resolution chain

    See http://goo.gl/MqrFmX
`)},E=function(){return new v.PromiseInspection(this._target())},o=function(n){return v.reject(new f(n))};function y(){}var _={},m=J(),u;m.isNode?u=function(){var n=process.domain;return n===void 0&&(n=null),n}:u=function(){return null},m.notEnumerableProp(v,"_getDomain",u);var t=he(),s=Lt(),a=new s;t.defineProperty(v,"_async",{value:a});var i=se(),f=v.TypeError=i.TypeError;v.RangeError=i.RangeError;var h=v.CancellationError=i.CancellationError;v.TimeoutError=i.TimeoutError,v.OperationalError=i.OperationalError,v.RejectionError=i.OperationalError,v.AggregateError=i.AggregateError;var r=function(){},l={},p={},b=Gt()(v,r),k=Qt()(v,r,b,o,y),F=Wt()(v),x=F.create,q=zt()(v,F);q.CapturedTrace;var z=$t()(v,b),W=Xt()(p),U=It(),L=m.errorObj,X=m.tryCatch;function re(n,C){if(typeof C!="function")throw new f("expecting a function but got "+m.classString(C));if(n.constructor!==v)throw new f(`the promise constructor cannot be invoked directly

    See http://goo.gl/MqrFmX
`)}function v(n){this._bitField=0,this._fulfillmentHandler0=void 0,this._rejectionHandler0=void 0,this._promise0=void 0,this._receiver0=void 0,n!==r&&(re(this,n),this._resolveFromExecutor(n)),this._promiseCreated(),this._fireEvent("promiseCreated",this)}v.prototype.toString=function(){return"[object Promise]"},v.prototype.caught=v.prototype.catch=function(n){var C=arguments.length;if(C>1){var T=new Array(C-1),j=0,A;for(A=0;A<C-1;++A){var I=arguments[A];if(m.isObject(I))T[j++]=I;else return o("expecting an object but got A catch statement predicate "+m.classString(I))}return T.length=j,n=arguments[A],this.then(void 0,W(T,n,this))}return this.then(void 0,n)},v.prototype.reflect=function(){return this._then(E,E,void 0,this,void 0)},v.prototype.then=function(n,C){if(q.warnings()&&arguments.length>0&&typeof n!="function"&&typeof C!="function"){var T=".then() only accepts functions but was passed: "+m.classString(n);arguments.length>1&&(T+=", "+m.classString(C)),this._warn(T)}return this._then(n,C,void 0,void 0,void 0)},v.prototype.done=function(n,C){var T=this._then(n,C,void 0,void 0,void 0);T._setIsFinal()},v.prototype.spread=function(n){return typeof n!="function"?o("expecting a function but got "+m.classString(n)):this.all()._then(n,void 0,void 0,l,void 0)},v.prototype.toJSON=function(){var n={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(n.fulfillmentValue=this.value(),n.isFulfilled=!0):this.isRejected()&&(n.rejectionReason=this.reason(),n.isRejected=!0),n},v.prototype.all=function(){return arguments.length>0&&this._warn(".all() was passed arguments but it does not take any"),new k(this).promise()},v.prototype.error=function(n){return this.caught(m.originatesFromRejection,n)},v.getNewLibraryCopy=e.exports,v.is=function(n){return n instanceof v},v.fromNode=v.fromCallback=function(n){var C=new v(r);C._captureStackTrace();var T=arguments.length>1?!!Object(arguments[1]).multiArgs:!1,j=X(n)(U(C,T));return j===L&&C._rejectCallback(j.e,!0),C._isFateSealed()||C._setAsyncGuaranteed(),C},v.all=function(n){return new k(n).promise()},v.cast=function(n){var C=b(n);return C instanceof v||(C=new v(r),C._captureStackTrace(),C._setFulfilled(),C._rejectionHandler0=n),C},v.resolve=v.fulfilled=v.cast,v.reject=v.rejected=function(n){var C=new v(r);return C._captureStackTrace(),C._rejectCallback(n,!0),C},v.setScheduler=function(n){if(typeof n!="function")throw new f("expecting a function but got "+m.classString(n));return a.setScheduler(n)},v.prototype._then=function(n,C,T,j,A){var I=A!==void 0,Q=I?A:new v(r),g=this._target(),V=g._bitField;I||(Q._propagateFrom(this,3),Q._captureStackTrace(),j===void 0&&(this._bitField&2097152)!==0&&((V&50397184)!==0?j=this._boundValue():j=g===this?void 0:this._boundTo),this._fireEvent("promiseChained",this,Q));var $=u();if((V&50397184)!==0){var N,H,Y=g._settlePromiseCtx;(V&33554432)!==0?(H=g._rejectionHandler0,N=n):(V&16777216)!==0?(H=g._fulfillmentHandler0,N=C,g._unsetRejectionIsUnhandled()):(Y=g._settlePromiseLateCancellationObserver,H=new h("late cancellation observer"),g._attachExtraTrace(H),N=C),a.invoke(Y,g,{handler:$===null?N:typeof N=="function"&&m.domainBind($,N),promise:Q,receiver:j,value:H})}else g._addCallbacks(n,C,Q,j,$);return Q},v.prototype._length=function(){return this._bitField&65535},v.prototype._isFateSealed=function(){return(this._bitField&117506048)!==0},v.prototype._isFollowing=function(){return(this._bitField&67108864)===67108864},v.prototype._setLength=function(n){this._bitField=this._bitField&-65536|n&65535},v.prototype._setFulfilled=function(){this._bitField=this._bitField|33554432,this._fireEvent("promiseFulfilled",this)},v.prototype._setRejected=function(){this._bitField=this._bitField|16777216,this._fireEvent("promiseRejected",this)},v.prototype._setFollowing=function(){this._bitField=this._bitField|67108864,this._fireEvent("promiseResolved",this)},v.prototype._setIsFinal=function(){this._bitField=this._bitField|4194304},v.prototype._isFinal=function(){return(this._bitField&4194304)>0},v.prototype._unsetCancelled=function(){this._bitField=this._bitField&-65537},v.prototype._setCancelled=function(){this._bitField=this._bitField|65536,this._fireEvent("promiseCancelled",this)},v.prototype._setWillBeCancelled=function(){this._bitField=this._bitField|8388608},v.prototype._setAsyncGuaranteed=function(){a.hasCustomScheduler()||(this._bitField=this._bitField|134217728)},v.prototype._receiverAt=function(n){var C=n===0?this._receiver0:this[n*4-4+3];if(C!==_)return C===void 0&&this._isBound()?this._boundValue():C},v.prototype._promiseAt=function(n){return this[n*4-4+2]},v.prototype._fulfillmentHandlerAt=function(n){return this[n*4-4+0]},v.prototype._rejectionHandlerAt=function(n){return this[n*4-4+1]},v.prototype._boundValue=function(){},v.prototype._migrateCallback0=function(n){n._bitField;var C=n._fulfillmentHandler0,T=n._rejectionHandler0,j=n._promise0,A=n._receiverAt(0);A===void 0&&(A=_),this._addCallbacks(C,T,j,A,null)},v.prototype._migrateCallbackAt=function(n,C){var T=n._fulfillmentHandlerAt(C),j=n._rejectionHandlerAt(C),A=n._promiseAt(C),I=n._receiverAt(C);I===void 0&&(I=_),this._addCallbacks(T,j,A,I,null)},v.prototype._addCallbacks=function(n,C,T,j,A){var I=this._length();if(I>=65531&&(I=0,this._setLength(0)),I===0)this._promise0=T,this._receiver0=j,typeof n=="function"&&(this._fulfillmentHandler0=A===null?n:m.domainBind(A,n)),typeof C=="function"&&(this._rejectionHandler0=A===null?C:m.domainBind(A,C));else{var Q=I*4-4;this[Q+2]=T,this[Q+3]=j,typeof n=="function"&&(this[Q+0]=A===null?n:m.domainBind(A,n)),typeof C=="function"&&(this[Q+1]=A===null?C:m.domainBind(A,C))}return this._setLength(I+1),I},v.prototype._proxy=function(n,C){this._addCallbacks(void 0,void 0,C,n,null)},v.prototype._resolveCallback=function(n,C){if((this._bitField&117506048)===0){if(n===this)return this._rejectCallback(w(),!1);var T=b(n,this);if(!(T instanceof v))return this._fulfill(n);C&&this._propagateFrom(T,2);var j=T._target();if(j===this){this._reject(w());return}var A=j._bitField;if((A&50397184)===0){var I=this._length();I>0&&j._migrateCallback0(this);for(var Q=1;Q<I;++Q)j._migrateCallbackAt(this,Q);this._setFollowing(),this._setLength(0),this._setFollowee(j)}else if((A&33554432)!==0)this._fulfill(j._value());else if((A&16777216)!==0)this._reject(j._reason());else{var g=new h("late cancellation observer");j._attachExtraTrace(g),this._reject(g)}}},v.prototype._rejectCallback=function(n,C,T){var j=m.ensureErrorObject(n),A=j===n;if(!A&&!T&&q.warnings()){var I="a promise was rejected with a non-error: "+m.classString(n);this._warn(I,!0)}this._attachExtraTrace(j,C?A:!1),this._reject(n)},v.prototype._resolveFromExecutor=function(n){var C=this;this._captureStackTrace(),this._pushContext();var T=!0,j=this._execute(n,function(A){C._resolveCallback(A)},function(A){C._rejectCallback(A,T)});T=!1,this._popContext(),j!==void 0&&C._rejectCallback(j,!0)},v.prototype._settlePromiseFromHandler=function(n,C,T,j){var A=j._bitField;if((A&65536)===0){j._pushContext();var I;C===l?!T||typeof T.length!="number"?(I=L,I.e=new f("cannot .spread() a non-array: "+m.classString(T))):I=X(n).apply(this._boundValue(),T):I=X(n).call(C,T);var Q=j._popContext();A=j._bitField,(A&65536)===0&&(I===p?j._reject(T):I===L?j._rejectCallback(I.e,!1):(q.checkForgottenReturns(I,Q,"",j,this),j._resolveCallback(I)))}},v.prototype._target=function(){for(var n=this;n._isFollowing();)n=n._followee();return n},v.prototype._followee=function(){return this._rejectionHandler0},v.prototype._setFollowee=function(n){this._rejectionHandler0=n},v.prototype._settlePromise=function(n,C,T,j){var A=n instanceof v,I=this._bitField,Q=(I&134217728)!==0;(I&65536)!==0?(A&&n._invokeInternalOnCancel(),T instanceof z&&T.isFinallyHandler()?(T.cancelPromise=n,X(C).call(T,j)===L&&n._reject(L.e)):C===E?n._fulfill(E.call(T)):T instanceof y?T._promiseCancelled(n):A||n instanceof k?n._cancel():T.cancel()):typeof C=="function"?A?(Q&&n._setAsyncGuaranteed(),this._settlePromiseFromHandler(C,T,j,n)):C.call(T,j,n):T instanceof y?T._isResolved()||((I&33554432)!==0?T._promiseFulfilled(j,n):T._promiseRejected(j,n)):A&&(Q&&n._setAsyncGuaranteed(),(I&33554432)!==0?n._fulfill(j):n._reject(j))},v.prototype._settlePromiseLateCancellationObserver=function(n){var C=n.handler,T=n.promise,j=n.receiver,A=n.value;typeof C=="function"?T instanceof v?this._settlePromiseFromHandler(C,j,A,T):C.call(j,A,T):T instanceof v&&T._reject(A)},v.prototype._settlePromiseCtx=function(n){this._settlePromise(n.promise,n.handler,n.receiver,n.value)},v.prototype._settlePromise0=function(n,C,T){var j=this._promise0,A=this._receiverAt(0);this._promise0=void 0,this._receiver0=void 0,this._settlePromise(j,n,A,C)},v.prototype._clearCallbackDataAtIndex=function(n){var C=n*4-4;this[C+2]=this[C+3]=this[C+0]=this[C+1]=void 0},v.prototype._fulfill=function(n){var C=this._bitField;if(!((C&117506048)>>>16)){if(n===this){var T=w();return this._attachExtraTrace(T),this._reject(T)}this._setFulfilled(),this._rejectionHandler0=n,(C&65535)>0&&((C&134217728)!==0?this._settlePromises():a.settlePromises(this))}},v.prototype._reject=function(n){var C=this._bitField;if(!((C&117506048)>>>16)){if(this._setRejected(),this._fulfillmentHandler0=n,this._isFinal())return a.fatalError(n,m.isNode);(C&65535)>0?a.settlePromises(this):this._ensurePossibleRejectionHandled()}},v.prototype._fulfillPromises=function(n,C){for(var T=1;T<n;T++){var j=this._fulfillmentHandlerAt(T),A=this._promiseAt(T),I=this._receiverAt(T);this._clearCallbackDataAtIndex(T),this._settlePromise(A,j,I,C)}},v.prototype._rejectPromises=function(n,C){for(var T=1;T<n;T++){var j=this._rejectionHandlerAt(T),A=this._promiseAt(T),I=this._receiverAt(T);this._clearCallbackDataAtIndex(T),this._settlePromise(A,j,I,C)}},v.prototype._settlePromises=function(){var n=this._bitField,C=n&65535;if(C>0){if((n&16842752)!==0){var T=this._fulfillmentHandler0;this._settlePromise0(this._rejectionHandler0,T,n),this._rejectPromises(C,T)}else{var j=this._rejectionHandler0;this._settlePromise0(this._fulfillmentHandler0,j,n),this._fulfillPromises(C,j)}this._setLength(0)}this._clearCancellationData()},v.prototype._settledValue=function(){var n=this._bitField;if((n&33554432)!==0)return this._rejectionHandler0;if((n&16777216)!==0)return this._fulfillmentHandler0};function O(n){this.promise._resolveCallback(n)}function D(n){this.promise._rejectCallback(n,!1)}v.defer=v.pending=function(){q.deprecated("Promise.defer","new Promise");var n=new v(r);return{promise:n,resolve:O,reject:D}},m.notEnumerableProp(v,"_makeSelfResolutionError",w),Kt()(v,r,b,o,q),Jt()(v,r,b,q),Yt()(v,k,o,q),Zt()(v),Pt()(v),er()(v,k,b,r,a,u),v.Promise=v,v.version="3.4.7",tr()(v,k,o,b,r,q),rr()(v),nr()(v,o,b,x,r,q),ir()(v,r,q),ar()(v,o,r,b,y,q),or()(v),sr()(v,r),ur()(v,k,b,o),lr()(v,r,b,o),cr()(v,k,o,b,r,q),fr()(v,k,q),hr()(v,k,o),pr()(v,r),dr()(v,r),_r()(v),m.toFastProperties(v),m.toFastProperties(v.prototype);function G(n){var C=new v(r);C._fulfillmentHandler0=n,C._rejectionHandler0=n,C._promise0=n,C._receiver0=n}return G({a:1}),G({b:2}),G({c:3}),G(1),G(function(){}),G(void 0),G(!1),G(new v(r)),q.setBounds(s.firstLineError,m.lastLineError),v}}(be)),be.exports}export{yr as r};
